(this.webpackJsonpbudgety=this.webpackJsonpbudgety||[]).push([[0],{35:function(n,e,t){},89:function(n,e,t){"use strict";t.r(e);var r,c,a,o,i,u,l,s,d,b,j,f,O=t(18),h=t.n(O),m=t(6),g=t(3),p=t(1),x=t(31),v=t(4),y=Object(v.a)(r||(r=Object(g.a)(["\n  *,\n  *::after,\n  *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-size: 1.6rem;\n    font-family: Roboto;\n    box-sizing: border-box;\n\n    color: var(--color-black)\n  }\n\n  html {\n    font-size: 62.5%;\n  }\n\n\n  :root {\n    // COLORS\n    --color-red: #E53E3E;\n    --color-gray: #CBD5E0;\n    --color-gray-dark: #1A202C;\n    --color-green: #48BB78;\n    --color-black: #222;\n    --color-white: #fff;\n    --color-blue-light: #90CDF4;\n\n    // TRANSITIONS\n    --trans-default: all .2s ease;\n    \n    // SHADOWS\n    --shadow-default: 0px 5px 30px 2px rgba(0, 0, 0, 0.2);\n  }\n"]))),w=t(21),E=t.n(w),T=t(24),_=t(8),C=t(37),A=t.n(C),S="36rem",I="48rem",N="62rem",D="75rem",k=v.b.button(c||(c=Object(g.a)(["\n  border-radius: 1rem;\n  border: ",";\n  width: 100%;\n  font-size: 1.8rem;\n  padding: 1.1rem;\n  color: ",";\n  background-color: ",";\n  font-family: inherit;\n  transition: var(--trans-default);\n\n  :hover,\n  :focus {\n    outline: none;\n    transform: translateY(-5%);\n    cursor: pointer;\n    box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.3);\n    ",";\n  }\n\n  :active {\n    transform: translateY(2%);\n    box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(n){return n.secondary?"2px solid var(--color-".concat(n.color,")"):"none"}),(function(n){return"var(--color-".concat(n.textColor,")")}),(function(n){return n.secondary?"var(--color-white)":"var(--color-".concat(n.color,")")}),(function(n){return n.secondary&&"background-color: var(--color-".concat(n.color,"); color: var(--color-white)")})),R=v.b.nav(a||(a=Object(g.a)(["\n  color: #111;\n  letter-spacing: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 3.5rem;\n  position: relative;\n"]))),U=v.b.div(o||(o=Object(g.a)(["\n  display: flex;\n  align-items: center;\n\n  h1 {\n    font-weight: 400;\n    font-size: 3rem;\n    margin-right: 2rem;\n    display: none;\n\n    @media (min-width: ",") {\n      display: block;\n    }\n  }\n"])),I),L=v.b.button(i||(i=Object(g.a)(["\n  width: 4.5rem;\n  height: 4.5rem;\n  border-radius: 35%;\n  background-color: #111;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 11;\n  position: fixed;\n  right: 3.5rem;\n  transition: var(--trans-default);\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),I),G=v.b.div(u||(u=Object(g.a)(["\n  pointer-events: none;\n  width: 2.2rem;\n  height: 3px;\n  background-color: #fff;\n\n  transform: ",";\n\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: 2.2rem;\n    height: 3px;\n    background-color: #fff;\n    transition: var(--trans-default);\n    transform: ",";\n  }\n\n  ::before {\n    content: '';\n    display: block;\n    width: 2.2rem;\n    height: 3px;\n    background-color: #fff;\n    transition: var(--trans-default);\n    transform: ",";\n\n    display: ",";\n  }\n"])),(function(n){return n.opened?"rotate(225deg) scale(1.3)":"rotate(0) scale(1)"}),(function(n){return n.opened?"rotate(90deg) translateY(0)":"rotate(0) translateY(".concat(n.focused?"250%":"125%",")")}),(function(n){return n.focused?"translateY(-350%)":"translateY(-225%)"}),(function(n){return n.opened?"none":"block"})),z=v.b.div(l||(l=Object(g.a)(["\n  background-color: #111;\n  position: fixed;\n  z-index: 10;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n\n  transition: var(--trans-default);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  transform: ",";\n\n  ul {\n    transition: var(--trans-default);\n    transition-delay: 0.1s;\n    flex-direction: column;\n    align-items: center;\n    display: flex;\n    padding: 0;\n    margin: 0;\n    margin-bottom: 25%;\n\n    transform: ",";\n\n    li {\n      :not(:last-child) {\n        margin-bottom: 4rem;\n      }\n    }\n  }\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),(function(n){return n.opened?"translateX(0)":"translateX(-100%)"}),(function(n){return n.opened?"translateX(0)":"translateX(-100%)"}),I),F=v.b.ul(s||(s=Object(g.a)(["\n  width: 47rem;\n  justify-content: space-around;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  li {\n    margin: 0;\n    padding: 0;\n    :not(:last-child) {\n    }\n  }\n\n  display: none;\n  @media (min-width: ",") {\n    display: flex;\n  }\n"])),I),M=Object(v.b)(x.b)(d||(d=Object(g.a)(["\n  font-size: 2.5rem;\n  text-decoration: none;\n  text-transform: capitalize;\n\n  color: #fff;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  @media (min-width: ",") {\n    color: #222;\n    font-size: 1.6rem;\n  }\n\n  @media (min-width: ",") {\n    font-size: 2rem;\n  }\n"])),I,D),B=v.b.div(b||(b=Object(g.a)(["\n  border-radius: 50%;\n  background-image: ",";\n  background-size: cover;\n  padding: 2rem;\n  margin-right: 1.5rem;\n"])),(function(n){return"url('".concat(n.url,"')")})),Y=Object(v.b)(k)(j||(j=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 0.9rem;\n\n  svg {\n    margin-right: 0.5rem;\n  }\n"]))),V=t(40),P=["overview","budgets","payments","statistics"],X="https://budgety-server.herokuapp.com",H=t(10);!function(n){n.LOGIN="LOGIN",n.LOGOUT="LOGOUT"}(f||(f={}));var q,J=function(){try{var n=localStorage.getItem("state");if(null===n)return;return JSON.parse(n)}catch(e){return void console.error(e)}},Z=t(32),W=t(5),K=t(25);!function(n){n.ADD_BUDGET="ADD_BUDGET",n.REMOVE_BUDGET="REMOVE_BUDGET",n.EDIT_BUDGET="EDIT_BUDGET",n.CHANGE_TRANSACTIONS="CHANGE_TRANSACTIONS",n.REMOVE_BUDGET_ALL="REMOVE_BUDGET_ALL"}(q||(q={}));var Q;!function(n){n.UPDATE_CURRENCY="UPDATE_CURRENCY",n.SET_PRIMARY_CURRENCY="SET_PRIMARY_CURRENCY"}(Q||(Q={}));var $;!function(n){n.SET_LOADING="SET_LOADING",n.UNSET_LOADING="UNSET_LOADING"}($||($={}));var nn,en=function(){return Object(H.action)($.SET_LOADING)},tn=function(){return Object(H.action)($.UNSET_LOADING)};!function(n){n.ADD_TRANSACTION="ADD_TRANSACTION",n.REMOVE_TRANSACTION="REMOVE_TRANSACTION",n.REMOVE_TRANSACTIONS_BUDGET="REMOVE_TRANSACTIONS_BUDGET",n.EDIT_TRANSACTION="EDIT_TRANSACTION",n.REMOVE_TRANSACTION_ALL="REMOVE_TRANSACTION_ALL"}(nn||(nn={}));var rn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.b,cn=J(),an=Object(Z.c)(Object(Z.a)({budgets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case q.ADD_BUDGET:return[].concat(Object(K.a)(n),[e.payload.budget]);case q.REMOVE_BUDGET:return n.filter((function(n){return n._id!==e.payload.budgetId}));case q.EDIT_BUDGET:return n.map((function(n){return n._id===e.payload.budget._id?e.payload.budget:n}));case q.CHANGE_TRANSACTIONS:return n.map((function(n){n.amount.actual=n.amount.starting,n.amount.diff=0;var t=e.payload.currency;return e.payload.transactions.forEach((function(e){var r=e.amount/t.currencies[e.currency]*t.currencies[n.amount.currency];e.budgetId===n._id&&(n=Object(W.a)(Object(W.a)({},n),{},{amount:Object(W.a)(Object(W.a)({},n.amount),{},{actual:n.amount.actual+r,diff:n.amount.actual+r-n.amount.starting})}))})),n}));case q.REMOVE_BUDGET_ALL:return[];default:return n}},transactions:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case nn.ADD_TRANSACTION:return[].concat(Object(K.a)(n),[e.payload.transaction]);case nn.REMOVE_TRANSACTION:return n.filter((function(n){return n._id!==e.payload.transactionId}));case nn.REMOVE_TRANSACTIONS_BUDGET:return n.filter((function(n){return n.budgetId!==e.payload.budgetId}));case nn.EDIT_TRANSACTION:return n.map((function(n){return n._id===e.payload.transaction._id?e.payload.transaction:n}));case nn.REMOVE_TRANSACTION_ALL:return[];default:return n}},googleUser:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f.LOGIN:return Object(W.a)({},e.payload.userInfo);case f.LOGOUT:return null;default:return n}},currency:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dateFetched:new Date(0),source:"USD",currencies:{},primaryCurrency:"USD"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Q.UPDATE_CURRENCY:return e.payload.currency;case Q.SET_PRIMARY_CURRENCY:return Object(W.a)(Object(W.a)({},n),{},{primaryCurrency:e.payload.currencyString});default:return n}},loader:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case $.SET_LOADING:return!0;case $.UNSET_LOADING:return!1;default:return n}}}),cn,rn());an.subscribe((function(){var n=an.getState(),e=n.budgets.filter((function(n){return null===n.userId})),t=n.transactions.filter((function(n){return null===n.userId})),r=n.currency,c=n.loader;null===n.googleUser&&function(n){try{var e=JSON.stringify(n);localStorage.setItem("state",e)}catch(t){console.error(t)}}({budgets:e,transactions:t,currency:r,loader:c,googleUser:null})}));var on=an,un=function(n){return Object(H.action)(q.ADD_BUDGET,{budget:n})},ln=function(n){return Object(H.action)(q.REMOVE_BUDGET,{budgetId:n})},sn=function(n){return Object(H.action)(q.EDIT_BUDGET,{budget:n})},dn=function(){var n=on.getState().transactions,e=on.getState().currency;return Object(H.action)(q.CHANGE_TRANSACTIONS,{transactions:n,currency:e})};Date.prototype.getFancyDate=function(){var n=this.getDate().toString(),e=(this.getMonth()+1).toString();return parseInt(n)<10&&(n="0".concat(n)),parseInt(e)<10&&(e="0".concat(e)),"".concat(n,"/").concat(e,"/").concat(this.getFullYear())},Date.prototype.getFancyHours=function(){var n=this.getHours().toString(),e=this.getMinutes().toString();return parseInt(e)<10&&(e="0".concat(e)),parseInt(n)<10&&(n="0".concat(n)),"".concat(n,":").concat(e)};var bn,jn,fn,On,hn,mn,gn,pn,xn,vn,yn,wn,En,Tn,_n,Cn,An,Sn,In,Nn,Dn,kn,Rn,Un,Ln,Gn,zn,Fn,Mn,Bn,Yn,Vn,Pn,Xn,Hn,qn,Jn,Zn,Wn,Kn,Qn,$n=function(n){return new Promise((function(e){return setTimeout(e,n)}))},ne=function(n){return Object(H.action)(nn.ADD_TRANSACTION,{transaction:n})},ee=function(n){return Object(H.action)(nn.REMOVE_TRANSACTION,{transactionId:n})},te=function(n){return Object(H.action)(nn.REMOVE_TRANSACTIONS_BUDGET,{budgetId:n})},re=function(n){return Object(H.action)(Q.SET_PRIMARY_CURRENCY,{currencyString:n})},ce=t(2),ae=function(){var n=Object(p.useState)(!1),e=Object(_.a)(n,2),t=e[0],r=e[1],c=Object(p.useState)(!1),a=Object(_.a)(c,2),o=a[0],i=a[1],u=Object(p.useRef)(null),l=Object(m.b)(),s=Object(m.c)((function(n){return n.googleUser})),d=function(n){r(!t),n.target!==u.current&&window.scrollTo(0,0)},b=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.map((function(n,r){return Object(ce.jsx)("li",{children:Object(ce.jsx)(M,{tabIndex:e||t?0:-1,onClick:d,to:"/".concat(n),children:n})},r)}))},j=function(n){var e;n.profileObj&&l((e=n.profileObj,Object(H.action)(f.LOGIN,{userInfo:e})))},O=function(){var n=Object(T.a)(E.a.mark((function n(){var e;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=J(),l(Object(H.action)(f.LOGOUT)),!e){n.next=9;break}return n.next=5,$n(100);case 5:e.budgets.forEach((function(n){return l(un(n))})),e.transactions.forEach((function(n){return l(ne(n))})),l(re(e.currency.primaryCurrency)),l(dn());case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(ce.jsxs)(R,{children:[Object(ce.jsxs)(U,{children:[Object(ce.jsx)("h1",{style:{marginRight:"1rem"},children:"Budgety"}),null===s?Object(ce.jsx)(A.a,{clientId:"118372615416-g77a8gaf92slnb4f50jr6o9cmh0f4ho1.apps.googleusercontent.com",buttonText:"Login",onSuccess:j,onFailure:j,cookiePolicy:"single_host_origin",isSignedIn:!0,render:function(n){return Object(ce.jsxs)(Y,{color:"red",textColor:"white",onClick:n.onClick,disabled:n.disabled,children:[Object(ce.jsx)(V.a,{}),"Login"]})}}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(B,{url:s.imageUrl}),Object(ce.jsx)(C.GoogleLogout,{clientId:"118372615416-cjlib17tonjdhn4tqtpnetm7mif08ah9.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:O,render:function(n){return Object(ce.jsxs)(Y,{color:"red",textColor:"white",onClick:n.onClick,disabled:n.disabled,children:[Object(ce.jsx)(V.a,{}),"Logout"]})}})]})]}),Object(ce.jsx)(L,{"aria-label":"Navigation button",onClick:d,onFocus:function(){return i(!0)},onBlur:function(){return i(!1)},ref:u,children:Object(ce.jsx)(G,{opened:t,focused:o})}),Object(ce.jsx)(z,{opened:t,children:Object(ce.jsx)("ul",{children:b(P,!1)})}),Object(ce.jsx)(F,{children:b(P)})]})},oe=t(9),ie=t(93),ue=t(91),le=function(){return Object(ce.jsx)("div",{})},se=v.b.ul(bn||(bn=Object(g.a)(["\n  list-style: none;\n  margin: 4rem auto;\n  padding: 0;\n  justify-content: center;\n  gap: 4rem;\n  grid-template-columns: repeat(auto-fit, 23rem);\n  padding: 0 4rem;\n\n  display: grid;\n"]))),de=v.b.div(jn||(jn=Object(g.a)(["\n  margin: 4rem auto;\n  padding: 0 4rem;\n\n  @media (min-width: ",") {\n    width: 80%;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),S,I,D),be=v.b.div(fn||(fn=Object(g.a)(["\n  width: 23rem;\n  height: max-content;\n  box-shadow: var(--shadow-default);\n  border-radius: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 2rem;\n"]))),je=t(12),fe=t.n(je),Oe=v.b.div(On||(On=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),he=v.b.h1(hn||(hn=Object(g.a)(["\n  font-weight: 400;\n  font-size: 2.8rem;\n"]))),me=v.b.span(mn||(mn=Object(g.a)(["\n  font-size: 3rem;\n  height: 4rem;\n  padding: 0.5rem;\n  cursor: pointer;\n  border: solid 1px transparent;\n  border-radius: 1rem;\n\n  :focus,\n  :hover {\n    outline: none;\n    border-color: var(--color-blue-light);\n    transition: var(--trans-default);\n  }\n"]))),ge=v.b.div(gn||(gn=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"]))),pe=t(22),xe=v.b.div(pn||(pn=Object(g.a)(["\n  position: fixed;\n  z-index: 20;\n  background-color: rgba(0, 0, 0, 0.7);\n  width: 100vw;\n  height: 100vh;\n  transition: var(--trans-default);\n  opacity: ",";\n"])),(function(n){return n.animating?"0":"100%"})),ve=v.b.div(xn||(xn=Object(g.a)(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  z-index: 21;\n  background-color: var(--color-white);\n  width: 75%;\n  padding: 2rem 2rem;\n  border-radius: 1rem;\n\n  @media (min-width: ",") {\n    width: 50%;\n  }\n\n  @media (min-width: ",") {\n    width: 50rem;\n  }\n"])),N,D),ye=v.b.div(vn||(vn=Object(g.a)(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n"]))),we=document.getElementById("modal"),Ee=Object(p.createContext)({handleClose:function(){}}),Te=function(n){var e=n.children,t=n.closeModal,r=n.closable,c=void 0===r||r,a=n.container,o=void 0===a||a,i=Object(p.useState)(!0),u=Object(_.a)(i,2),l=u[0],s=u[1],d=Object(p.useRef)(null);Object(p.useEffect)((function(){s(!1)}),[]);var b=function(){s(!0),setTimeout((function(){return t()}),200)};return h.a.createPortal(Object(ce.jsx)(xe,{animating:l,ref:d,onClick:function(n){return function(n){n.target===d.current&&c&&b()}(n)},children:o?Object(ce.jsx)(ve,{children:Object(ce.jsx)(Ee.Provider,{value:{handleClose:b},children:e})}):Object(ce.jsx)(Ee.Provider,{value:{handleClose:b},children:Object(ce.jsx)(ye,{children:e})})}),we)},_e=t(19),Ce=function(n){for(var e={},t=0,r=Object.entries(n);t<r.length;t++){var c=Object(_.a)(r[t],2),a=c[0],o=c[1];e=Object(W.a)(Object(W.a)({},e),{},Object(_e.a)({},a,Object(W.a)(Object(W.a)({},o),{},{checked:!0})))}var i=Object(p.useState)(e),u=Object(_.a)(i,2),l=u[0],s=u[1];return[l,s,function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(Object(W.a)(Object(W.a)({},l),{},Object(_e.a)({},n,Object(W.a)(Object(W.a)({},l[n]),{},{checked:e}))))},function(n){var e=!l[n.target.name].required||!!n.target.value;s(Object(W.a)(Object(W.a)({},l),{},Object(_e.a)({},n.target.name,Object(W.a)(Object(W.a)({},l[n.target.name]),{},{value:n.target.value,checked:e}))))}]},Ae=v.b.input(yn||(yn=Object(g.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"]))),Se=v.b.form(wn||(wn=Object(g.a)(["\n  margin: 5rem auto;\n  padding: 0 4rem;\n  margin-top: 0;\n\n  @media (min-width: ",") {\n    width: 80%;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),S,I,D),Ie=v.b.label(En||(En=Object(g.a)(["\n  font-size: 2.5rem;\n  display: block;\n  margin-bottom: 1rem;\n  width: max-content;\n"]))),Ne=v.b.div(Tn||(Tn=Object(g.a)(["\n  :not(:first-child) {\n    margin: 4rem 0;\n  }\n"]))),De=v.b.p(_n||(_n=Object(g.a)(["\n  font-size: 1.3rem;\n  color: var(--color-red);\n  position: absolute;\n  margin-top: 0.7rem;\n"]))),ke=v.b.div(Cn||(Cn=Object(g.a)(["\n  padding: 1.83rem 1.5rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  font-size: 1.6rem;\n  width: min-content;\n  position: absolute;\n  background-color: var(--color-white);\n"]))),Re=v.b.div(An||(An=Object(g.a)(["\n  pointer-events: none;\n  width: 1.3rem;\n  height: 2px;\n  background-color: ",";\n\n  transform: ",";\n\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: inherit;\n    height: inherit;\n    background-color: ",";\n    transition: var(--trans-default);\n    transform: ",";\n  }\n"])),(function(n){return n.minus?"var(--color-green)":"var(--color-red)"}),(function(n){return n.minus?"rotate(180deg)":"rotate(0)"}),(function(n){return n.minus?"var(--color-green)":"var(--color-red)"}),(function(n){return n.minus?"rotate(270deg)":"rotate(0)"})),Ue=v.b.h1(Sn||(Sn=Object(g.a)(["\n  font-weight: normal;\n  text-align: center;\n"]))),Le=v.b.select(In||(In=Object(g.a)(["\n  padding: 0.2rem 0.2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 3rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  color: ",";\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"])),(function(n){return"var(--color-".concat(n.color,")")})),Ge=function(n){var e=n.color,t=n.onChangeAction,r=n.style,c=n.currency,a=Object(m.c)((function(n){return n.currency.currencies})),o=Object(m.c)((function(n){return n.currency.primaryCurrency})),i=Object(p.useState)(o),u=Object(_.a)(i,2),l=u[0],s=u[1];Object(p.useEffect)((function(){c&&s(c)}),[c]),Object(p.useEffect)((function(){!c&&s(o)}),[o,c]);return Object(ce.jsx)(Le,{color:e,onChange:function(n){s(n.target.value),t(n)},value:l,style:r,children:Object.entries(a).map((function(n){return Object(ce.jsx)("option",{value:n[0],children:n[0]},n[0])}))})},ze=function(n){var e=n.handleSubmit,t=n.disabled,r=void 0!==t&&t,c=n.children,a=n.childrenBefore,o=n.button,i=void 0===o||o,u=n.data,l=n.currency,s=n.style,d=n.pageTitle,b=Ce(u||{title:{value:"",required:!0},amount:{value:"",required:!0}}),j=Object(_.a)(b,4),f=j[0],O=j[1],h=j[2],g=j[3],x=Object(m.c)((function(n){return n.currency.primaryCurrency})),v=Object(p.useState)(x),y=Object(_.a)(v,2),w=y[0],E=y[1],T=Object(p.useState)(!1),C=Object(_.a)(T,2),A=C[0],S=C[1],I=Object(p.useRef)(!1),N=f.title,D=f.amount;Object(p.useEffect)((function(){l&&E(l)}),[l]),Object(p.useEffect)((function(){!l&&E(x)}),[x,l]),Object(p.useEffect)((function(){parseFloat(D.value)<0&&(O({title:Object(W.a)({},N),amount:Object(W.a)(Object(W.a)({},D),{},{value:(-1*parseFloat(D.value)).toFixed()})}),S(!0),I.current=!0)}),[]);return Object(ce.jsxs)(Se,{onSubmit:function(n){if(n.preventDefault(),!r){var t=D.required&&!D.value,c=N.required&&!N.value;if(t&&c){for(var a={},o=0,i=Object.entries(f);o<i.length;o++){var u=Object(_.a)(i[o],2),l=u[0],s=u[1];a=Object(W.a)(Object(W.a)({},a),{},Object(_e.a)({},l,Object(W.a)(Object(W.a)({},s),{},{checked:!1})))}O(a)}else c&&h("title"),t&&h("amount");if(t||c)return;var d=parseFloat(D.value);A&&d>0&&(d*=-1),e(N.value,d,w),O({title:Object(W.a)(Object(W.a)({},N),{},{value:""}),amount:Object(W.a)(Object(W.a)({},D),{},{value:""})}),S(!1),I.current=!1}},noValidate:!0,autoComplete:"off",style:s,children:[d&&Object(ce.jsx)(Ne,{children:Object(ce.jsx)(Ue,{children:d})}),Object(ce.jsx)(Ne,{children:a}),Object(ce.jsxs)(Ne,{children:[Object(ce.jsx)(Ie,{htmlFor:"title",children:"Title"}),Object(ce.jsx)(Ae,{id:"title",name:"title",type:"text",placeholder:"Enter title",value:N.value,onChange:g}),!N.checked&&Object(ce.jsx)(De,{children:"Fill out this field!"})]}),Object(ce.jsxs)(Ne,{style:{position:"relative"},children:[Object(ce.jsx)(Ie,{htmlFor:"amount",children:"Amount"}),Object(ce.jsx)(ke,{onClick:function(){S(!A),I.current=!A},children:Object(ce.jsx)(Re,{minus:!A})}),Object(ce.jsx)(Ae,{id:"amount",name:"amount",type:"number",placeholder:"Enter amount",value:D.value,onChange:function(n){parseFloat(n.target.value)<0?S(!0):parseFloat(n.target.value)>=0&&!I.current&&S(!1),g(n)},style:{padding:"1rem 5rem"}}),Object(ce.jsx)(Ge,{color:"black",onChangeAction:function(n){E(n.target.value)},style:{fontSize:"2.85rem",position:"absolute",right:"0"},currency:w}),!D.checked&&Object(ce.jsx)(De,{children:"Fill out this field!"})]}),Object(ce.jsx)(Ne,{children:c}),i&&Object(ce.jsx)(k,{color:"green",textColor:"white",children:"Add"})]})},Fe=function(n){var e=n._id,t=n.title,r=n.amount,c=Object(m.b)(),a=Object(p.useContext)(Ee),o=Object(m.c)((function(n){return n.googleUser})),i=function(){return a.handleClose()};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(Oe,{children:[Object(ce.jsx)(me,{tabIndex:0,children:Object(ce.jsx)(pe.c,{})}),Object(ce.jsx)(he,{children:"Edit"}),Object(ce.jsx)(me,{tabIndex:0,style:{fontSize:"3.5rem",height:"4.5rem"},onClick:i,onKeyPress:function(n){return function(n,e){"Enter"===n.key&&e()}(n,i)},children:Object(ce.jsx)(pe.e,{})})]}),Object(ce.jsx)("div",{style:{marginTop:"3.5rem"},children:Object(ce.jsx)(ze,{handleSubmit:function(n,t,r){var i={_id:e,userId:(null===o||void 0===o?void 0:o.googleId)?null===o||void 0===o?void 0:o.googleId:null,title:n,amount:{actual:t,currency:r,diff:0,starting:t},date:new Date};o?(c(en()),fe.a.patch("".concat(X,"/budgets/").concat(e),Object(W.a)({},i)).then((function(n){c(sn(n.data)),c(dn()),c(tn())}))):(c(sn(i)),c(dn())),a.handleClose()},button:!1,data:{title:{value:t,required:!0},amount:{value:r.starting.toFixed(2),required:!0}},style:{padding:0},currency:r.currency,children:Object(ce.jsxs)(ge,{children:[Object(ce.jsx)(k,{color:"gray-dark",textColor:"gray-dark",secondary:!0,style:{width:"48%"},onClick:function(){a.handleClose(),o?(c(en()),fe.a.delete("".concat(X,"/budgets/").concat(e)).then((function(){c(ln(e)),fe.a.delete("".concat(X,"/transactions?budgetId=").concat(e)).then((function(){c(te(e)),c(tn())}))}))):(c(ln(e)),c(te(e)))},type:"button",children:"Delete"}),Object(ce.jsx)(k,{color:"gray-dark",textColor:"white",style:{width:"48%"},children:"Save"})]})})})]})},Me=v.b.h1(Nn||(Nn=Object(g.a)(["\n  font-size: 3rem;\n  font-weight: 400;\n  margin: 0;\n  text-align: center;\n  letter-spacing: 1px;\n"]))),Be=v.b.h2(Dn||(Dn=Object(g.a)(["\n  font-size: 2.5rem;\n  color: ",";\n  font-weight: 400;\n  text-align: center;\n  margin: 0;\n  margin-bottom: 0.5rem;\n"])),(function(n){return"var(--color-".concat(n.color,")")})),Ye=v.b.div(kn||(kn=Object(g.a)(["\n  font-size: 2.5rem;\n  color: ",";\n  font-weight: 400;\n  text-align: center;\n  margin-left: 0;\n  margin-bottom: 0.5rem;\n  position: relative;\n  height: 5rem;\n"])),(function(n){return"var(--color-".concat(n.color,")")})),Ve=v.b.h3(Rn||(Rn=Object(g.a)(["\n  font-size: 2rem;\n  font-weight: 400;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: max-content;\n  transform: translateY(-50%) translateX(-50%);\n"]))),Pe=v.b.i(Un||(Un=Object(g.a)(["\n  position: absolute;\n  top: ",";\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n"])),(function(n){return n.amount>0?"25%":"90%"})),Xe=function(n){return n>0?"green":n<0?"red":"black"},He=function(n){var e=n.title,t=n.amount;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Me,{children:e}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(Be,{color:Xe(t.actual),children:[t.actual.toFixed(2)," ",t.currency]}),Object(ce.jsxs)(Ye,{color:Xe(t.diff),children:[Object(ce.jsxs)(Ve,{children:[t.diff.toFixed(2)," ",t.currency]}),Object(ce.jsx)(Pe,{amount:t.diff,children:t.diff>0?Object(ce.jsx)(pe.b,{}):t.diff<0?Object(ce.jsx)(pe.a,{}):Object(ce.jsx)(pe.d,{})})]})]})]})},qe=function(n){var e=Object(p.useState)(!1),t=Object(_.a)(e,2),r=t[0],c=t[1];return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(be,{children:[Object(ce.jsx)(He,Object(W.a)({},n)),Object(ce.jsx)(k,{color:"gray-dark",textColor:"white",onClick:function(){return c(!0)},children:"Edit"})]}),r&&Object(ce.jsx)(Te,{closeModal:function(){return c(!1)},children:Object(ce.jsx)(Fe,Object(W.a)({},n))})]})},Je=(t(35),v.b.ul(Ln||(Ln=Object(g.a)(["\n  list-style-type: none;\n  margin-top: 4rem;\n\n  li {\n    margin: 0;\n    padding: 0;\n\n    :not(:last-child) {\n      margin-bottom: 3rem;\n    }\n  }\n"])))),Ze=v.b.div(Gn||(Gn=Object(g.a)(["\n  margin: 4rem auto;\n  padding: 0 4rem;\n\n  @media (min-width: ",") {\n    width: 80%;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),S,I,D),We=v.b.select(zn||(zn=Object(g.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"]))),Ke=function(){var n=Object(m.c)((function(n){return n.budgets})),e=Object(p.useState)("date"),t=Object(_.a)(e,2),r=t[0],c=t[1];return Object(ce.jsxs)(de,{children:[Object(ce.jsx)(Ie,{style:{marginTop:"3rem"},children:"Sort by"}),Object(ce.jsxs)(We,{onChange:function(n){c(n.target.value)},value:r,children:[Object(ce.jsx)("option",{value:"date",children:"Newest"}),Object(ce.jsx)("option",{value:"date_r",children:"Oldest"}),Object(ce.jsx)("option",{value:"title",children:"A...Z"}),Object(ce.jsx)("option",{value:"title_r",children:"Z...A"}),Object(ce.jsx)("option",{value:"amount",children:"Most money"}),Object(ce.jsx)("option",{value:"amount_r",children:"Least money"})]}),Object(ce.jsx)(se,{children:Object(ce.jsx)(ie.a,{component:null,children:function(){var e=Object(K.a)(n);return e.sort((function(n,e){var t;switch(r.split("_")[0]){case"title":t=n.title.localeCompare(e.title);break;case"date":t=n.date>e.date?-1:n.date<e.date?1:0;break;case"amount":t=n.amount.actual>e.amount.actual?-1:n.amount.actual<e.amount.actual?1:0;break;default:t=0}return t})),"r"===r.split("_")[1]&&e.reverse(),e.map((function(n){return Object(ce.jsx)(ue.a,{timeout:200,classNames:"slide",children:Object(ce.jsx)("li",{children:Object(ce.jsx)(qe,Object(W.a)({},n))})},n._id)}))}()})})]})},Qe=t(92),$e=function(){var n=Object(m.b)(),e=Object(m.c)((function(n){return n.googleUser}));return Object(ce.jsx)(ze,{handleSubmit:function(t,r,c){var a={_id:Object(Qe.a)(),userId:e?null===e||void 0===e?void 0:e.googleId:null,title:t,amount:{actual:r,currency:c,diff:0,starting:r},date:new Date};e?(n(en()),fe.a.post("".concat(X,"/budgets"),Object(W.a)({},a)).then((function(e){n(un(e.data)),n(tn())}))):n(un(a))},pageTitle:"Budgets"})},nt=v.b.h2(Fn||(Fn=Object(g.a)(["\n  font-size: 3.5rem;\n  font-weight: 400;\n  color: ",";\n  letter-spacing: 1px;\n  text-align: center;\n  margin-bottom: 2.5rem;\n"])),(function(n){return"var(--color-".concat(n.color,")")})),et=function(){var n=Object(m.b)(),e=Object(m.c)((function(n){return n.budgets})),t=Object(m.c)((function(n){return n.currency})),r=Object(m.c)((function(n){return n.currency.primaryCurrency})),c=Object(m.c)((function(n){var e;return null===(e=n.googleUser)||void 0===e?void 0:e.googleId})),a=0;e.forEach((function(n){return a+=n.amount.actual/t.currencies[n.amount.currency]})),a=a/t.currencies.USD*t.currencies[r];return Object(ce.jsxs)(nt,{color:Xe(a),children:[a.toFixed(2)," ",Object(ce.jsx)(Ge,{color:Xe(a),onChangeAction:function(e){c?(n(en()),fe.a.patch("".concat(X,"/users/").concat(c),{currency:e.target.value}).then((function(){n(re(e.target.value)),n(tn())}))):n(re(e.target.value))}})]})},tt=function(){return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(et,{}),Object(ce.jsx)($e,{}),Object(ce.jsx)(Ke,{})]})},rt=v.b.select(Mn||(Mn=Object(g.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"]))),ct=v.b.div(Bn||(Bn=Object(g.a)(["\n  margin-top: 4rem;\n  display: flex;\n  justify-content: space-between;\n  height: 14rem;\n  flex-direction: column;\n"]))),at=function(){var n=Object(m.b)(),e=Object(m.c)((function(n){return n.budgets})),t=Object(m.c)((function(n){return n.googleUser})),r=Object(p.useState)(""),c=Object(_.a)(r,2),a=c[0],o=c[1],i=Object(p.useRef)(-1);Object(p.useEffect)((function(){return i.current!==e.length&&(e[0]?o(e[0]._id):o("")),function(){i.current=e.length}}),[e]);var u=e.filter((function(n){return n._id===a}))[0];return Object(ce.jsx)(ze,{handleSubmit:function(e,r,c){var o={_id:Object(Qe.a)(),currency:c,budgetId:a,userId:t?t.googleId:null,title:e,amount:r,date:new Date};t?(n(en()),fe.a.post("".concat(X,"/transactions"),Object(W.a)({},o)).then((function(e){n(ne(e.data)),n(dn()),n(tn())}))):(n(ne(o)),n(dn()))},disabled:!e.length,button:!1,currency:u&&u.amount.currency,childrenBefore:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Ie,{htmlFor:"selectBudget",children:"Select a budget"}),Object(ce.jsx)(rt,{id:"selectBudget",onChange:function(n){o(n.target.value)},value:a,children:e.map((function(n){return Object(ce.jsxs)("option",{value:n._id,children:[n.title,": ",n.amount.actual.toFixed(2)," ",n.amount.currency]},n._id)}))})]}),pageTitle:"Payments",children:Object(ce.jsxs)(ce.Fragment,{children:[e[0]&&Object(ce.jsx)(ct,{children:a&&Object(ce.jsx)(He,Object(W.a)({},u))}),Object(ce.jsx)(k,{color:"green",textColor:"white",style:{marginTop:"3rem",opacity:e[0]?1:.6},onClick:function(n){return!e[0]&&n.preventDefault()},children:e[0]?"Add":"Add a budget"})]})})},ot=v.b.h1(Yn||(Yn=Object(g.a)(["\n  font-size: 2.5rem;\n  text-align: center;\n  font-weight: 500;\n  margin-bottom: 2rem;\n"]))),it=v.b.div(Vn||(Vn=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]))),ut=function(n){var e=n.handleAction,t=Object(p.useContext)(Ee);return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ot,{children:"Are you sure?"}),Object(ce.jsxs)(it,{children:[Object(ce.jsx)(k,{color:"gray-dark",textColor:"gray-dark",secondary:!0,style:{width:"48%"},onClick:function(){return t.handleClose()},type:"button",children:"Cancel"}),Object(ce.jsx)(k,{color:"gray-dark",textColor:"white",style:{width:"48%"},onClick:function(){t.handleClose(),e()},children:"Delete"})]})]})},lt=v.b.div(Pn||(Pn=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),st=v.b.div(Xn||(Xn=Object(g.a)(["\n  color: ",";\n  font-size: 2.1rem;\n  margin: 0 1rem;\n"])),(function(n){return"var(--color-".concat(n.color,")")})),dt=v.b.h1(Hn||(Hn=Object(g.a)(["\n  font-size: 2rem;\n  font-weight: 500;\n"]))),bt=v.b.h2(qn||(qn=Object(g.a)(["\n  font-size: 1.5rem;\n  font-weight: 500;\n  color: var(--color-gray-dark);\n  opacity: 0.9;\n"]))),jt=v.b.h3(Jn||(Jn=Object(g.a)(["\n  font-size: 1.3rem;\n  font-weight: 500;\n  color: var(--color-gray-dark);\n  opacity: 0.8;\n"]))),ft=Object(v.b)(k)(Zn||(Zn=Object(g.a)(["\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n\n  @media (min-width: ",") {\n    padding: 1rem;\n  }\n"])),S),Ot=Object(v.b)(pe.e)(Wn||(Wn=Object(g.a)(["\n  font-size: 3rem;\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),S),ht=v.b.p(Kn||(Kn=Object(g.a)(["\n  display: none;\n\n  @media (min-width: ",") {\n    display: inline;\n  }\n"])),S),mt=function(n){var e=n._id,t=n.budgetId,r=n.title,c=n.amount,a=n.date,o=n.currency,i=Object(m.b)(),u=Object(p.useState)(!1),l=Object(_.a)(u,2),s=l[0],d=l[1],b=Object(p.useState)(null),j=Object(_.a)(b,2),f=j[0],O=j[1],h=Object(m.c)((function(n){return n.budgets})),g=Object(m.c)((function(n){return n.googleUser})),x=new Date(a);Object(p.useEffect)((function(){var n=h.filter((function(n){return n._id===t}))[0];n&&O(n)}),[h,t]);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(lt,{children:[Object(ce.jsxs)("div",{style:{flex:1},children:[Object(ce.jsx)(dt,{children:r}),f&&Object(ce.jsx)(bt,{children:f.title}),Object(ce.jsxs)(jt,{children:[x.getFancyDate()," | ",x.getFancyHours()]})]}),Object(ce.jsxs)(st,{color:Xe(c),children:[c," ",o]}),Object(ce.jsx)("div",{children:Object(ce.jsxs)(ft,{color:"red",textColor:"white",onClick:function(){return d(!0)},children:[Object(ce.jsx)(Ot,{}),Object(ce.jsx)(ht,{children:"Delete"})]})})]}),s&&Object(ce.jsx)(Te,{closeModal:function(){return d(!1)},children:Object(ce.jsx)(ut,{handleAction:function(){g?(i(en()),fe.a.delete("".concat(X,"/transactions/").concat(e)).then((function(){i(ee(e)),i(dn()),i(tn())}))):(i(ee(e)),i(dn()))}})})]})},gt=function(){var n=Object(m.c)((function(n){return n.transactions})),e=Object(m.c)((function(n){return n.budgets})),t=Object(p.useState)(""),r=Object(_.a)(t,2),c=r[0],a=r[1],o=Object(p.useState)("date"),i=Object(_.a)(o,2),u=i[0],l=i[1];return Object(ce.jsxs)(Ze,{children:[Object(ce.jsx)(Ie,{children:"Filter transactions"}),Object(ce.jsxs)(We,{onChange:function(n){a(n.target.value)},value:c,children:[Object(ce.jsx)("option",{value:"",children:"All"}),e.map((function(n){return Object(ce.jsxs)("option",{value:n._id,children:[n.title,": ",n.amount.actual.toFixed(2)," ",n.amount.currency]},n._id)}))]}),Object(ce.jsx)(Ie,{style:{marginTop:"3rem"},children:"Sort by"}),Object(ce.jsxs)(We,{onChange:function(n){l(n.target.value)},value:u,children:[Object(ce.jsx)("option",{value:"date",children:"Newest"}),Object(ce.jsx)("option",{value:"date_r",children:"Oldest"}),Object(ce.jsx)("option",{value:"title",children:"A...Z"}),Object(ce.jsx)("option",{value:"title_r",children:"Z...A"}),Object(ce.jsx)("option",{value:"amount",children:"Most money"}),Object(ce.jsx)("option",{value:"amount_r",children:"Least money"})]}),Object(ce.jsx)(Je,{children:Object(ce.jsx)(ie.a,{component:null,children:function(){var e=c?n.filter((function(n){return n.budgetId===c})):n;return e.sort((function(n,e){var t;switch(u.split("_")[0]){case"title":t=n.title.localeCompare(e.title);break;case"date":t=n.date>e.date?-1:n.date<e.date?1:0;break;case"amount":t=n.amount>e.amount?-1:n.amount<e.amount?1:0;break;default:t=0}return t})),"r"===u.split("_")[1]&&e.reverse(),e.map((function(n){return Object(ce.jsx)(ue.a,{timeout:200,classNames:"slide",children:Object(ce.jsx)("li",{children:Object(ce.jsx)(mt,Object(W.a)({},n))})},n._id)}))}()})})]})},pt=function(){return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(et,{}),Object(ce.jsx)(at,{}),Object(ce.jsx)(gt,{})]})},xt=function(){return Object(ce.jsx)("div",{children:"Statistics"})},vt=function(){var n=Object(oe.f)();return Object(ce.jsx)(ie.a,{component:null,children:Object(ce.jsx)(ue.a,{timeout:200,classNames:"fade",children:Object(ce.jsxs)(oe.c,{location:n,children:[Object(ce.jsx)(oe.a,{exact:!0,path:"/overview",children:Object(ce.jsx)(le,{})}),Object(ce.jsx)(oe.a,{exact:!0,path:"/budgets",children:Object(ce.jsx)(tt,{})}),Object(ce.jsx)(oe.a,{exact:!0,path:"/payments",children:Object(ce.jsx)(pt,{})}),Object(ce.jsx)(oe.a,{exact:!0,path:"/statistics",children:Object(ce.jsx)(xt,{})})]})},n.key)})},yt=function(){var n=Object(T.a)(E.a.mark((function n(e){var t,r,c,a,o,i,u,l,s,d,b;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=new Date,r=new Date(e.dateFetched),864e5,!(Math.floor((t.getTime()-r.getTime())/864e5)>=7)){n.next=16;break}return n.next=7,fe.a.get("https://v1.nocodeapi.com/kriziuu/cx/FPLWrEBmjQDFHLdf/rates");case 7:return n.next=9,n.sent.data;case 9:for(c=n.sent,a={},o=0,i=Object.entries(c.rates);o<i.length;o++)u=Object(_.a)(i[o],2),l=u[0],s=u[1],d=Object(_e.a)({},l,s),a=Object(W.a)(Object(W.a)({},a),d);return b={dateFetched:t,source:c.source,currencies:a,primaryCurrency:e.primaryCurrency},n.abrupt("return",b);case 16:return n.abrupt("return",e);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),wt=function(){var n=Object(T.a)(E.a.mark((function n(e,t,r){var c,a,o;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(),n.next=3,fe.a.get("".concat(X,"/budgets"),{params:{userId:null===e||void 0===e?void 0:e.googleId}});case 3:return n.next=5,n.sent.data;case 5:return c=n.sent,n.next=8,fe.a.get("".concat(X,"/transactions"),{params:{userId:null===e||void 0===e?void 0:e.googleId}});case 8:return n.next=10,n.sent.data;case 10:return a=n.sent,o="",n.next=14,fe.a.get("".concat(X,"/users/").concat(null===e||void 0===e?void 0:e.googleId)).then((function(n){o=n.data.currency})).catch((function(){fe.a.post("".concat(X,"/users"),{_id:null===e||void 0===e?void 0:e.googleId,currency:"USD"})}));case 14:return c=c.map((function(n){return n.date=new Date(n.date),n})),a.map((function(n){return n.date=new Date(n.date),n})),r(),n.abrupt("return",{budgets:c,transactions:a,userCurrency:o});case 18:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),Et=t(53),Tt=t.n(Et),_t=v.b.div(Qn||(Qn=Object(g.a)(["\n  width: 100vw;\n  margin-left: auto;\n  margin-right: auto;\n\n  @media (min-width: ",") {\n    width: 75vw;\n  }\n"])),D),Ct=function(){var n=Object(m.b)(),e=Object(m.c)((function(n){return n.googleUser})),t=Object(m.c)((function(n){return n.currency})),r=Object(p.useRef)(!0),c=Object(m.c)((function(n){return n.loader})),a=Object(p.useCallback)((function(){return n(en())}),[n]),o=Object(p.useCallback)((function(){return n(tn())}),[n]);return Object(p.useEffect)((function(){return r.current||(n(Object(H.action)(nn.REMOVE_TRANSACTION_ALL)),n(Object(H.action)(q.REMOVE_BUDGET_ALL)),n(dn())),e&&wt(e,a,o).then((function(e){e.budgets.forEach((function(e){n(un(e))})),e.transactions.forEach((function(e){n(ne(e))})),n(re(e.userCurrency)),n(dn())})),function(){r.current=!1}}),[e,n,a,o]),Object(p.useEffect)((function(){yt(t).then((function(e){n(function(n){return Object(H.action)(Q.UPDATE_CURRENCY,{currency:n})}(e))}))}),[t,n]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(y,{}),Object(ce.jsx)(_t,{children:Object(ce.jsxs)(x.a,{children:[Object(ce.jsx)(ae,{}),Object(ce.jsx)("main",{style:{position:"relative"},children:Object(ce.jsx)(vt,{})})]})}),c&&Object(ce.jsx)(Te,{closeModal:function(){},container:!1,closable:!1,children:Object(ce.jsx)(Tt.a,{size:"8rem",color:"silver"})})]})};h.a.render(Object(ce.jsx)(m.a,{store:on,children:Object(ce.jsx)(Ct,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.fe75bd83.chunk.js.map