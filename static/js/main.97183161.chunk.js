(this.webpackJsonpbudgety=this.webpackJsonpbudgety||[]).push([[0],{30:function(e,n,t){},93:function(e,n,t){"use strict";t.r(n);var r,c,a,i,o,l,s,u,d,b,j,f,h,O,m=t(20),g=t.n(m),p=t(7),x=t(5),v=t(1),y=t(23),w=t(4),E=Object(w.b)(r||(r=Object(x.a)(["\n  *,\n  *::after,\n  *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n  }\n\n  select {\n    background-color: "," !important;\n    border: 1px solid "," !important;\n    color: "," !important;\n\n    :focus {\n    outline: none;\n    border-color: var(--color-blue-light) !important;\n  }\n  }\n\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-size: 1.6rem;\n    font-family: Roboto;\n    box-sizing: border-box;\n    background-color: ",";\n\n    color: ",";\n    transition: all .3s;\n  }\n\n  html {\n    font-size: 62.5%;\n  }\n\n\n  :root {\n    // COLORS\n    --color-red: #E53E3E;\n    --color-gray: #CBD5E0;\n    --color-gray-dark: #1A202C;\n    --color-green: #48BB78;\n    --color-black: #222;\n    --color-white: #fff;\n    --color-blue-light: #90CDF4;\n\n    // TRANSITIONS\n    --trans-default: all .2s ease;\n    \n    // SHADOWS\n    --shadow-default: 0px 5px 30px 2px rgba(0, 0, 0, 0.2);\n  }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.border}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.text})),C=t(22),T=t.n(C),k=t(25),_=t(9),A=t(38),S=t.n(A),I="36rem",N="48rem",D="62rem",R="75rem",U=w.c.button(c||(c=Object(x.a)(["\n  border-radius: 1rem;\n  border: ",";\n  width: 100%;\n  font-size: 1.8rem;\n  padding: 1.1rem;\n  color: ",";\n  background-color: ",";\n  font-family: inherit;\n  transition: var(--trans-default);\n\n  :hover,\n  :focus {\n    outline: none;\n    transform: translateY(-5%);\n    cursor: pointer;\n    box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.3);\n    ",";\n  }\n\n  :active {\n    transform: translateY(2%);\n    box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(e){return e.secondary?"2px solid var(--color-".concat(e.color,")"):"none"}),(function(e){return"var(--color-".concat(e.textColor,")")}),(function(e){return e.secondary?"var(--color-white)":"var(--color-".concat(e.color,")")}),(function(e){return e.secondary&&"background-color: var(--color-".concat(e.color,"); color: var(--color-white)")})),F=w.c.nav(a||(a=Object(x.a)(["\n  color: #111;\n  letter-spacing: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 3.5rem;\n  position: relative;\n"]))),M=w.c.div(i||(i=Object(x.a)(["\n  display: flex;\n  align-items: center;\n\n  h1 {\n    font-weight: 500;\n    font-size: 3rem;\n    margin-right: 2rem;\n    display: none;\n    color: ",";\n\n    @media (min-width: ",") {\n      display: block;\n    }\n  }\n"])),(function(e){return e.theme.text}),D),G=w.c.button(o||(o=Object(x.a)(["\n  width: 4.5rem;\n  height: 4.5rem;\n  border-radius: 35%;\n  background-color: #111;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 11;\n  position: fixed;\n  right: 3.5rem;\n  transition: var(--trans-default);\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),N),L=w.c.div(l||(l=Object(x.a)(["\n  pointer-events: none;\n  width: 2.2rem;\n  height: 3px;\n  background-color: #fff;\n\n  transform: ",";\n\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: 2.2rem;\n    height: 3px;\n    background-color: #fff;\n    transition: var(--trans-default);\n    transform: ",";\n  }\n\n  ::before {\n    content: '';\n    display: block;\n    width: 2.2rem;\n    height: 3px;\n    background-color: #fff;\n    transition: var(--trans-default);\n    transform: ",";\n\n    display: ",";\n  }\n"])),(function(e){return e.opened?"rotate(225deg) scale(1.3)":"rotate(0) scale(1)"}),(function(e){return e.opened?"rotate(90deg) translateY(0)":"rotate(0) translateY(".concat(e.focused?"250%":"125%",")")}),(function(e){return e.focused?"translateY(-350%)":"translateY(-225%)"}),(function(e){return e.opened?"none":"block"})),z=w.c.div(s||(s=Object(x.a)(["\n  background-color: #111;\n  position: fixed;\n  z-index: 10;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n\n  transition: var(--trans-default);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  transform: ",";\n\n  ul {\n    transition: var(--trans-default);\n    transition-delay: 0.1s;\n    flex-direction: column;\n    align-items: center;\n    display: flex;\n    padding: 0;\n    margin: 0;\n    margin-bottom: 25%;\n\n    transform: ",";\n\n    li {\n      :not(:last-child) {\n        margin-bottom: 4rem;\n      }\n    }\n  }\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),(function(e){return e.opened?"translateX(0)":"translateX(-100%)"}),(function(e){return e.opened?"translateX(0)":"translateX(-100%)"}),N),B=w.c.ul(u||(u=Object(x.a)(["\n  width: 47rem;\n  justify-content: space-around;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  li {\n    margin: 0;\n    padding: 0;\n    :not(:last-child) {\n    }\n  }\n\n  display: none;\n  @media (min-width: ",") {\n    display: flex;\n  }\n"])),N),Y=Object(w.c)(y.b)(d||(d=Object(x.a)(["\n  font-size: 2.5rem;\n  text-decoration: none;\n  text-transform: capitalize;\n  ","\n\n  color: #fff;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  @media (min-width: ",") {\n    color: ",";\n    font-size: 1.6rem;\n  }\n\n  @media (min-width: ",") {\n    font-size: 2rem;\n  }\n"])),(function(e){return e.$isactive&&"text-decoration: underline; cursor: default;"}),N,(function(e){return e.theme.text}),R),P=w.c.div(b||(b=Object(x.a)(["\n  border-radius: 50%;\n  background-image: ",";\n  background-size: cover;\n  padding: 2rem;\n  margin-right: 1.5rem;\n"])),(function(e){return"url('".concat(e.url,"')")})),V=Object(w.c)(U)(j||(j=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 0.9rem;\n\n  svg {\n    margin-right: 0.5rem;\n  }\n"]))),$=w.c.span(f||(f=Object(x.a)(["\n  position: absolute;\n  top: 3.5rem;\n  left: 3.5rem;\n"]))),X=w.c.span(h||(h=Object(x.a)(["\n  display: none;\n  margin-left: 2rem;\n\n  @media (min-width: ",") {\n    display: block;\n  }\n"])),N),H=t(41),q=["overview","budgets","payments","statistics"],K="https://budgety-server.herokuapp.com",J=t(11);!function(e){e.LOGIN="LOGIN",e.LOGOUT="LOGOUT"}(O||(O={}));var Z=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(n){return void console.error(n)}},W=function(e){try{var n=JSON.stringify(e);localStorage.setItem("state",n)}catch(t){console.error(t)}},Q=t(6),ee=t(33),ne=t(26);Date.prototype.getFancyDate=function(){var e=this.getDate().toString(),n=(this.getMonth()+1).toString();return parseInt(e)<10&&(e="0".concat(e)),parseInt(n)<10&&(n="0".concat(n)),"".concat(e,"/").concat(n,"/").concat(this.getFullYear())},Date.prototype.getFancyHours=function(){var e=this.getHours().toString(),n=this.getMinutes().toString();return parseInt(n)<10&&(n="0".concat(n)),parseInt(e)<10&&(e="0".concat(e)),"".concat(e,":").concat(n)};var te,re=function(e,n){"Enter"===e.key&&n(e)},ce=function(e){return new Promise((function(n){return setTimeout(n,e)}))},ae=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=36e5*e.repeat.every,r=new Date,c=r.getTime(),a=n?new Date(r.getFullYear(),r.getMonth(),1).getTime():new Date(e.date).getTime(),i=1;if(!e.repeat.repeat)return 1;switch(e.repeat.type){case"hours":i=Math.floor((c-a)/t);break;case"days":i=Math.floor((c-a)/(24*t));break;case"month":i=Math.floor((c-a)/(24*t*31));break;case"year":i=Math.floor((c-a)/(24*t*365));break;default:i=1}return i};!function(e){e.ADD_BUDGET="ADD_BUDGET",e.REMOVE_BUDGET="REMOVE_BUDGET",e.EDIT_BUDGET="EDIT_BUDGET",e.CHANGE_TRANSACTIONS="CHANGE_TRANSACTIONS",e.REMOVE_BUDGET_ALL="REMOVE_BUDGET_ALL"}(te||(te={}));var ie;!function(e){e.UPDATE_CURRENCY="UPDATE_CURRENCY",e.SET_PRIMARY_CURRENCY="SET_PRIMARY_CURRENCY"}(ie||(ie={}));var oe;!function(e){e.SET_LOADING="SET_LOADING",e.UNSET_LOADING="UNSET_LOADING"}(oe||(oe={}));var le,se=function(){return Object(J.action)(oe.SET_LOADING)},ue=function(){return Object(J.action)(oe.UNSET_LOADING)};!function(e){e.CHANGE_THEME="CHANGE_THEME"}(le||(le={}));var de;!function(e){e.ADD_TRANSACTION="ADD_TRANSACTION",e.REMOVE_TRANSACTION="REMOVE_TRANSACTION",e.REMOVE_TRANSACTIONS_BUDGET="REMOVE_TRANSACTIONS_BUDGET",e.EDIT_TRANSACTION="EDIT_TRANSACTION",e.REMOVE_TRANSACTION_ALL="REMOVE_TRANSACTION_ALL"}(de||(de={}));var be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.b,je=Z(),fe=Object(ee.c)(Object(ee.a)({budgets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case te.ADD_BUDGET:return[].concat(Object(ne.a)(e),[n.payload.budget]);case te.REMOVE_BUDGET:return e.filter((function(e){return e._id!==n.payload.budgetId}));case te.EDIT_BUDGET:return e.map((function(e){return e._id===n.payload.budget._id?n.payload.budget:e}));case te.CHANGE_TRANSACTIONS:return e.map((function(e){e.amount.actual=e.amount.starting;var t=n.payload.currency;return n.payload.transactions.forEach((function(n){var r=n.amount/t.currencies[n.currency]*t.currencies[e.amount.currency],c=ae(n);n.repeat.repeat&&(r+=r*c),n.budgetId===e._id&&(e=Object(Q.a)(Object(Q.a)({},e),{},{amount:Object(Q.a)(Object(Q.a)({},e.amount),{},{actual:e.amount.actual+r})}))})),e=Object(Q.a)(Object(Q.a)({},e),{},{amount:Object(Q.a)(Object(Q.a)({},e.amount),{},{diff:e.amount.actual-e.amount.starting})})}));case te.REMOVE_BUDGET_ALL:return[];default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case de.ADD_TRANSACTION:return[].concat(Object(ne.a)(e),[n.payload.transaction]);case de.REMOVE_TRANSACTION:return e.filter((function(e){return e._id!==n.payload.transactionId}));case de.REMOVE_TRANSACTIONS_BUDGET:return e.filter((function(e){return e.budgetId!==n.payload.budgetId}));case de.EDIT_TRANSACTION:return e.map((function(e){return e._id===n.payload.transaction._id?n.payload.transaction:e}));case de.REMOVE_TRANSACTION_ALL:return[];default:return e}},googleUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O.LOGIN:return Object(Q.a)({},n.payload.userInfo);case O.LOGOUT:return null;default:return e}},currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dateFetched:new Date(0),source:"USD",currencies:{},primaryCurrency:"USD"},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ie.UPDATE_CURRENCY:return n.payload.currency;case ie.SET_PRIMARY_CURRENCY:return Object(Q.a)(Object(Q.a)({},e),{},{primaryCurrency:n.payload.currencyString});default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case oe.SET_LOADING:return!0;case oe.UNSET_LOADING:return!1;default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case le.CHANGE_THEME:return n.payload.theme;default:return e}}}),je,be());fe.subscribe((function(){var e=fe.getState(),n=e.budgets.filter((function(e){return null===e.userId})),t=e.transactions.filter((function(e){return null===e.userId}));if(null===e.googleUser)W(Object(Q.a)(Object(Q.a)({},e),{},{budgets:n,transactions:t,googleUser:null}));else{var r=Z();r&&W(Object(Q.a)(Object(Q.a)({},r),{},{theme:e.theme}))}}));var he,Oe,me,ge,pe,xe,ve,ye,we,Ee,Ce,Te,ke,_e,Ae,Se,Ie,Ne,De,Re,Ue,Fe,Me,Ge,Le,ze,Be,Ye,Pe,Ve,$e,Xe,He,qe,Ke,Je,Ze,We,Qe,en,nn,tn,rn,cn,an,on,ln,sn,un,dn,bn,jn,fn,hn,On,mn=fe,gn=function(e){return Object(J.action)(te.ADD_BUDGET,{budget:e})},pn=function(e){return Object(J.action)(te.REMOVE_BUDGET,{budgetId:e})},xn=function(e){return Object(J.action)(te.EDIT_BUDGET,{budget:e})},vn=function(){var e=mn.getState().transactions,n=mn.getState().currency;return Object(J.action)(te.CHANGE_TRANSACTIONS,{transactions:e,currency:n})},yn=function(e){return Object(J.action)(de.ADD_TRANSACTION,{transaction:e})},wn=function(e){return Object(J.action)(de.REMOVE_TRANSACTION,{transactionId:e})},En=function(e){return Object(J.action)(de.REMOVE_TRANSACTIONS_BUDGET,{budgetId:e})},Cn=function(e){return Object(J.action)(ie.SET_PRIMARY_CURRENCY,{currencyString:e})},Tn=t(10),kn=t(19),_n=t(54),An=t(2),Sn=function(){var e=Object(p.b)(),n=Object(p.c)((function(e){return e.theme}));return Object(An.jsx)(U,{color:"light"===n?"gray":"black",textColor:"light"===n?"black":"white",onClick:function(){e(function(e){return Object(J.action)(le.CHANGE_THEME,{theme:e})}("light"===n?"dark":"light"))},style:{height:"4rem"},children:"light"===n?Object(An.jsx)(_n.a,{}):Object(An.jsx)(kn.e,{})})},In=function(){var e=Object(v.useState)(!1),n=Object(_.a)(e,2),t=n[0],r=n[1],c=Object(v.useState)(!1),a=Object(_.a)(c,2),i=a[0],o=a[1],l=Object(v.useRef)(null),s=Object(p.b)(),u=Object(p.c)((function(e){return e.googleUser})),d=Object(Tn.g)(),b=Object(Tn.f)();Object(v.useEffect)((function(){var e=!1;q.forEach((function(n){"/".concat(n)===d.pathname&&(e=!0)})),e||b.push("/overview")}));var j=function(e){r(!t),e.target!==l.current&&window.scrollTo(0,0)},f=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map((function(e,r){var c="/".concat(e)===d.pathname;return Object(An.jsx)("li",{children:Object(An.jsx)(Y,{tabIndex:n||t?0:-1,onClick:function(e){return c?e.preventDefault():j(e)},to:e,$isactive:c,children:e})},r)}))},h=function(e){var n;e.profileObj&&s((n=e.profileObj,Object(J.action)(O.LOGIN,{userInfo:n})))},m=function(){var e=Object(k.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Z(),s(Object(J.action)(O.LOGOUT)),!n){e.next=9;break}return e.next=5,ce(100);case 5:n.budgets.forEach((function(e){return s(gn(e))})),n.transactions.forEach((function(e){return s(yn(e))})),s(Cn(n.currency.primaryCurrency)),s(vn());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(An.jsxs)(F,{children:[Object(An.jsxs)(M,{children:[Object(An.jsx)("h1",{style:{marginRight:"1rem"},children:"Budgety"}),null===u?Object(An.jsx)(S.a,{clientId:"118372615416-g77a8gaf92slnb4f50jr6o9cmh0f4ho1.apps.googleusercontent.com",buttonText:"Login",onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin",isSignedIn:!0,render:function(e){return Object(An.jsxs)(V,{color:"red",textColor:"white",onClick:e.onClick,disabled:e.disabled,children:[Object(An.jsx)(H.a,{}),"Login"]})}}):Object(An.jsxs)(An.Fragment,{children:[Object(An.jsx)(P,{url:u.imageUrl}),Object(An.jsx)(A.GoogleLogout,{clientId:"118372615416-cjlib17tonjdhn4tqtpnetm7mif08ah9.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:m,render:function(e){return Object(An.jsxs)(V,{color:"red",textColor:"white",onClick:e.onClick,disabled:e.disabled,children:[Object(An.jsx)(H.a,{}),"Logout"]})}})]}),Object(An.jsx)(X,{children:Object(An.jsx)(Sn,{})})]}),Object(An.jsx)(G,{"aria-label":"Navigation button",onClick:j,onFocus:function(){return o(!0)},onBlur:function(){return o(!1)},ref:l,children:Object(An.jsx)(L,{opened:t,focused:i})}),Object(An.jsxs)(z,{opened:t,children:[Object(An.jsx)($,{children:Object(An.jsx)(Sn,{})}),Object(An.jsx)("ul",{children:f(q,!1)})]}),Object(An.jsx)(B,{children:f(q)})]})},Nn=t(97),Dn=t(95),Rn=(w.c.h1(he||(he=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 4rem;\n  font-weight: 400;\n  color: ",";\n  letter-spacing: 1px;\n  text-align: center;\n  margin: 1.5rem 0;\n"])),(function(e){return"black"===e.$color?e.theme.text:"var(--color-".concat(e.$color,")")})),w.c.h2(Oe||(Oe=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 3.5rem;\n  font-weight: 400;\n  color: ",";\n  letter-spacing: 1px;\n  text-align: center;\n  margin: 1rem 0;\n"])),(function(e){return"black"===e.$color?e.theme.text:"var(--color-".concat(e.$color,")")}))),Un=w.c.h3(me||(me=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 3rem;\n  font-weight: 400;\n  color: ",";\n  letter-spacing: 1px;\n  text-align: center;\n  margin: 1rem 0;\n"])),(function(e){return"black"===e.$color?e.theme.text:"var(--color-".concat(e.$color,")")})),Fn=w.c.h4(ge||(ge=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 2.5rem;\n  font-weight: 500;\n  color: ",";\n  text-align: center;\n  margin: 0.75rem 0;\n"])),(function(e){return"black"===e.$color?e.theme.text:"var(--color-".concat(e.$color,")")})),Mn=w.c.h5(pe||(pe=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 2.3rem;\n  font-weight: 500;\n  color: ",";\n  text-align: center;\n  margin: 0.5rem 0;\n"])),(function(e){return"black"===e.$color?e.theme.text:"var(--color-".concat(e.$color,")")})),Gn=w.c.h6(xe||(xe=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 2rem;\n  font-weight: 500;\n  color: ",";\n  text-align: center;\n  margin: 0.5rem 0;\n"])),(function(e){return"black"===e.$color?e.theme.text:"var(--color-".concat(e.$color,")")})),Ln=w.c.h3(ve||(ve=Object(x.a)(["\n  font-weight: 600;\n  color: ",";\n  opacity: 0.5;\n"])),(function(e){return e.theme.text})),zn=t(13),Bn=t.n(zn),Yn=function(e){return e>0?"green":e<0?"red":"black"},Pn=w.c.div(ye||(ye=Object(x.a)(["\n  position: fixed;\n  z-index: 20;\n  background-color: rgba(0, 0, 0, 0.7);\n  width: 100vw;\n  height: 100vh;\n  transition: var(--trans-default);\n  opacity: ",";\n"])),(function(e){return e.animating?"0":"100%"})),Vn=w.c.div(we||(we=Object(x.a)(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  z-index: 21;\n  background-color: ",";\n  width: 75%;\n  padding: 2rem 2rem;\n  border-radius: 1rem;\n\n  @media (min-width: ",") {\n    width: 50%;\n  }\n\n  @media (min-width: ",") {\n    width: 50rem;\n  }\n"])),(function(e){return e.theme.body}),D,R),$n=w.c.div(Ee||(Ee=Object(x.a)(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n"]))),Xn=document.getElementById("modal"),Hn=Object(v.createContext)({handleClose:function(){}}),qn=function(e){var n=e.children,t=e.closeModal,r=e.closable,c=void 0===r||r,a=e.container,i=void 0===a||a,o=Object(v.useState)(!0),l=Object(_.a)(o,2),s=l[0],u=l[1],d=Object(v.useRef)(null);Object(v.useEffect)((function(){u(!1)}),[]);var b=function(){u(!0),setTimeout((function(){return t()}),200)};return g.a.createPortal(Object(An.jsx)(Pn,{animating:s,ref:d,onClick:function(e){return function(e){e.target===d.current&&c&&b()}(e)},children:i?Object(An.jsx)(Vn,{children:Object(An.jsx)(Hn.Provider,{value:{handleClose:b},children:n})}):Object(An.jsx)(Hn.Provider,{value:{handleClose:b},children:Object(An.jsx)($n,{children:n})})}),Xn)},Kn=w.c.div(Ce||(Ce=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]))),Jn=function(e){var n=e.handleAction,t=Object(v.useContext)(Hn);return Object(An.jsxs)("div",{children:[Object(An.jsx)(Fn,{style:{marginBottom:"2rem"},children:"Are you sure?"}),Object(An.jsxs)(Kn,{children:[Object(An.jsx)(U,{color:"gray-dark",textColor:"gray-dark",secondary:!0,style:{width:"48%"},onClick:function(){return t.handleClose()},type:"button",children:"Cancel"}),Object(An.jsx)(U,{color:"gray-dark",textColor:"white",style:{width:"48%"},onClick:function(){t.handleClose(),n()},children:"Delete"})]})]})},Zn=w.c.div(Te||(Te=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),Wn=w.c.div(ke||(ke=Object(x.a)(["\n  color: ",";\n  font-size: 2.1rem;\n  margin: 0 1rem;\n"])),(function(e){return"var(--color-".concat(e.color,")")})),Qn=w.c.h1(_e||(_e=Object(x.a)(["\n  font-size: 2rem;\n  font-weight: 500;\n"]))),et=w.c.h2(Ae||(Ae=Object(x.a)(["\n  font-size: 1.6rem;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  width: max-content;\n"]))),nt=w.c.h2(Se||(Se=Object(x.a)(["\n  font-size: 1.5rem;\n  font-weight: 500;\n  opacity: 0.9;\n"]))),tt=w.c.h3(Ie||(Ie=Object(x.a)(["\n  font-size: 1.3rem;\n  font-weight: 500;\n  opacity: 0.8;\n"]))),rt=Object(w.c)(U)(Ne||(Ne=Object(x.a)(["\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n\n  @media (min-width: ",") {\n    padding: 1rem;\n  }\n"])),I),ct=Object(w.c)(kn.f)(De||(De=Object(x.a)(["\n  font-size: 3rem;\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),I),at=w.c.p(Re||(Re=Object(x.a)(["\n  display: none;\n\n  @media (min-width: ",") {\n    display: inline;\n  }\n"])),I),it=function(e){var n=e._id,t=e.budgetId,r=e.title,c=e.amount,a=e.repeat,i=e.date,o=e.currency,l=e.deletable,s=void 0===l||l,u=Object(p.b)(),d=Object(v.useState)(!1),b=Object(_.a)(d,2),j=b[0],f=b[1],h=Object(v.useState)(null),O=Object(_.a)(h,2),m=O[0],g=O[1],x=Object(p.c)((function(e){return e.budgets})),y=Object(p.c)((function(e){return e.googleUser})),w=new Date(i);Object(v.useEffect)((function(){var e=x.filter((function(e){return e._id===t}))[0];e&&g(e)}),[x,t]);return Object(An.jsxs)(An.Fragment,{children:[Object(An.jsxs)(Zn,{children:[Object(An.jsxs)("div",{style:{flex:1},children:[Object(An.jsx)(Qn,{children:r}),m&&Object(An.jsx)(nt,{children:m.title}),Object(An.jsxs)(tt,{children:[w.getFancyDate()," | ",w.getFancyHours()]})]}),Object(An.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[a.repeat&&Object(An.jsxs)(et,{children:["Every ",a.every," ",a.type]}),Object(An.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(An.jsxs)(Wn,{color:Yn(c),children:[c," ",o]}),s&&Object(An.jsx)("div",{children:Object(An.jsxs)(rt,{color:"red",textColor:"white",onClick:function(){return f(!0)},children:[Object(An.jsx)(ct,{}),Object(An.jsx)(at,{children:"Delete"})]})})]})]})]}),j&&Object(An.jsx)(qn,{closeModal:function(){return f(!1)},children:Object(An.jsx)(Jn,{handleAction:function(){y?(u(se()),Bn.a.delete("".concat(K,"/transactions/").concat(n)).then((function(){u(wn(n)),u(vn()),u(ue())}))):(u(wn(n)),u(vn()))}})})]})},ot=w.c.span(Ue||(Ue=Object(x.a)(["\n  border-radius: 1rem;\n  padding: 0.5rem 1rem;\n  font-size: 1.8rem;\n  opacity: 0.5;\n  height: min-content;\n  display: inline-block;\n  background-color: var(--color-gray);\n  cursor: pointer;\n  color: black;\n"]))),lt=w.c.ul(Fe||(Fe=Object(x.a)(["\n  width: 75%;\n  margin-left: 50%;\n  transform: translateX(-50%);\n  list-style: none;\n\n  @media (min-width: ",") {\n    width: 65%;\n  }\n\n  @media (min-width: ",") {\n    width: 50%;\n  }\n\n  @media (min-width: ",") {\n    width: 100%;\n  }\n"])),I,N,D),st=function(){var e=Object(Tn.f)(),n=Object(p.c)((function(e){return e.transactions})).filter((function(e){return!e.repeat.repeat})).sort((function(e,n){return e.date>n.date?-1:e.date<n.date?1:0})).slice(0,3),t=Object(p.c)((function(e){return e.transactions})).filter((function(e){return e.repeat.repeat})).sort((function(e,n){return e.date>n.date?-1:e.date<n.date?1:0})).slice(0,3);return Object(An.jsxs)("div",{children:[Object(An.jsxs)("div",{children:[Object(An.jsxs)(Fn,{style:{marginTop:"8rem"},children:["Repeat Payments"," ",Object(An.jsx)(ot,{tabIndex:0,onClick:function(){return e.push("payments")},onKeyPress:function(n){return re(n,(function(){return e.push("payments")}))},children:"See all"})]}),Object(An.jsxs)(lt,{children:[" ",t.length?t.map((function(e){return Object(An.jsx)("li",{children:Object(An.jsx)(it,Object(Q.a)(Object(Q.a)({},e),{},{deletable:!1}))},e._id)})):Object(An.jsx)(Ln,{style:{marginTop:"1.5rem"},children:"There is no payments"})]})]}),Object(An.jsxs)("div",{children:[Object(An.jsxs)(Fn,{style:{marginTop:"8rem"},children:["Frequent Payments"," ",Object(An.jsx)(ot,{tabIndex:0,onClick:function(){return e.push("payments")},onKeyPress:function(n){return re(n,(function(){return e.push("payments")}))},children:"See all"})]}),Object(An.jsxs)(lt,{children:[" ",n.length?n.map((function(e){return Object(An.jsx)("li",{children:Object(An.jsx)(it,Object(Q.a)(Object(Q.a)({},e),{},{deletable:!1}))},e._id)})):Object(An.jsx)(Ln,{style:{marginTop:"1.5rem"},children:"There is no payments"})]})]})]})},ut=w.c.div(Me||(Me=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  width: 75%;\n  margin-left: 50%;\n  transform: translateX(-50%);\n\n  @media (min-width: ",") {\n    width: 65%;\n  }\n\n  @media (min-width: ",") {\n    width: 50%;\n  }\n\n  @media (min-width: ",") {\n    width: 40%;\n  }\n"])),I,N,R),dt=w.c.div(Ge||(Ge=Object(x.a)(["\n  padding: 0;\n  flex-direction: column;\n  align-items: center;\n"]))),bt=new Date,jt=function(){var e=Object(p.c)((function(e){return e.transactions})),n=Object(p.c)((function(e){return e.currency})),t=Object(v.useState)({income:0,spent:0,total:0}),r=Object(_.a)(t,2),c=r[0],a=r[1];return Object(v.useEffect)((function(){var t={income:0,spent:0,total:0};e.forEach((function(e){var r=new Date(e.date),c=r.getMonth()===bt.getMonth()?ae(e):ae(e,!0);if(r.getMonth()===bt.getMonth()||e.repeat.repeat)if(e.amount>0){var a=e.amount/n.currencies[e.currency]*n.currencies[n.primaryCurrency];e.repeat.repeat&&(a+=a*c),t.income+=a}else if(e.amount<0){var i=e.amount/n.currencies[e.currency]*n.currencies[n.primaryCurrency];e.repeat.repeat&&(i+=i*c),t.spent+=i}t.total=t.income+t.spent})),a(t)}),[e,n.currencies,n.primaryCurrency]),Object(An.jsxs)(An.Fragment,{children:[Object(An.jsx)(Fn,{style:{marginTop:"4rem"},children:"Outgoings last month"}),Object(An.jsxs)(ut,{children:[Object(An.jsxs)(dt,{children:[Object(An.jsx)(Gn,{children:"Income"}),Object(An.jsxs)(Mn,{$color:"green",children:[c.income.toFixed()," ",n.primaryCurrency]})]}),Object(An.jsxs)(dt,{children:[Object(An.jsx)(Gn,{children:"Total"}),Object(An.jsxs)(Mn,{$color:Yn(c.total),children:[c.total.toFixed()," ",n.primaryCurrency]})]}),Object(An.jsxs)(dt,{children:[Object(An.jsx)(Gn,{children:"Spent"}),Object(An.jsxs)(Mn,{$color:"red",children:[c.spent.toFixed()," ",n.primaryCurrency]})]})]})]})},ft=w.c.div(Le||(Le=Object(x.a)(["\n  font-size: 2.5rem;\n  color: ",";\n  font-weight: 400;\n  text-align: center;\n  margin-left: 0;\n  margin-bottom: 0.5rem;\n  position: relative;\n  height: 5rem;\n"])),(function(e){return"black"===e.color?e.theme.text:"var(--color-".concat(e.color,")")})),ht=w.c.h3(ze||(ze=Object(x.a)(["\n  font-size: 2rem;\n  font-weight: 400;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: max-content;\n  transform: translateY(-50%) translateX(-50%);\n"]))),Ot=w.c.i(Be||(Be=Object(x.a)(["\n  position: absolute;\n  top: ",";\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n"])),(function(e){return e.amount>0?"25%":"90%"})),mt=function(e){var n=e.title,t=e.amount;return Object(An.jsxs)(An.Fragment,{children:[Object(An.jsx)(Un,{children:n}),Object(An.jsxs)("div",{children:[Object(An.jsxs)(Mn,{$color:Yn(t.actual),children:[t.actual.toFixed(2)," ",t.currency]}),Object(An.jsxs)(ft,{color:Yn(t.diff),children:[Object(An.jsxs)(ht,{children:[t.diff.toFixed(2)," ",t.currency]}),Object(An.jsx)(Ot,{amount:t.diff,children:t.diff>0?Object(An.jsx)(kn.b,{}):t.diff<0?Object(An.jsx)(kn.a,{}):Object(An.jsx)(kn.d,{})})]})]})]})},gt=w.c.div(Ye||(Ye=Object(x.a)(["\n  margin-top: 2rem;\n\n  margin-left: 50%;\n  transform: translateX(-50%);\n\n  padding: 2rem;\n  border-radius: 1rem;\n  width: 20rem;\n  box-shadow: var(--shadow-default);\n"]))),pt=function(){var e=Object(Tn.f)(),n=Object(p.c)((function(e){return e.budgets.sort((function(e,n){return e.amount.actual>n.amount.actual?-1:e.amount.actual<n.amount.actual?1:0}))[0]}));return Object(An.jsxs)("div",{children:[Object(An.jsxs)(Fn,{style:{marginTop:"6rem"},children:["Most valuable Budget"," ",Object(An.jsx)(ot,{tabIndex:0,onClick:function(){return e.push("budgets")},onKeyPress:function(n){return re(n,(function(){return e.push("payments")}))},children:"See all"})]}),n?Object(An.jsx)(gt,{children:Object(An.jsx)(mt,Object(Q.a)({},n))}):Object(An.jsx)(lt,{children:Object(An.jsx)(Ln,{style:{marginTop:"1.5rem"},children:"There is no budgets"})})]})},xt=w.c.div(Pe||(Pe=Object(x.a)(["\n  display: block;\n\n  @media (min-width: ",") {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  @media (min-width: ",") {\n    width: 75%;\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"])),D,R),vt=function(){return Object(An.jsxs)("div",{children:[Object(An.jsx)(Rn,{children:"Overview"}),Object(An.jsx)(jt,{}),Object(An.jsxs)(xt,{children:[Object(An.jsx)(pt,{}),Object(An.jsx)(st,{})]})]})},yt=w.c.ul(Ve||(Ve=Object(x.a)(["\n  list-style: none;\n  margin: 4rem auto;\n  padding: 0;\n  justify-content: center;\n  gap: 4rem;\n  grid-template-columns: repeat(auto-fit, 23rem);\n  padding: 0 4rem;\n  align-items: center;\n\n  @media (min-width: ",") {\n    padding: 0 8rem;\n  }\n\n  display: grid;\n"])),I),wt=w.c.div($e||($e=Object(x.a)(["\n  margin: 4rem auto;\n  padding: 0 4rem;\n\n  @media (min-width: ",") {\n    width: 80%;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),I,N,R),Et=w.c.div(Xe||(Xe=Object(x.a)(["\n  width: 23rem;\n  height: max-content;\n  box-shadow: var(--shadow-default);\n  border-radius: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 2rem;\n"]))),Ct=w.c.div(He||(He=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Tt=w.c.span(qe||(qe=Object(x.a)(["\n  font-size: 3rem;\n  height: 4rem;\n  padding: 0.5rem;\n  cursor: pointer;\n  border: solid 1px transparent;\n  border-radius: 1rem;\n\n  :focus,\n  :hover {\n    outline: none;\n    border-color: var(--color-blue-light);\n    transition: var(--trans-default);\n  }\n"]))),kt=w.c.div(Ke||(Ke=Object(x.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"]))),_t=t(21),At=function(e){for(var n={},t=0,r=Object.entries(e);t<r.length;t++){var c=Object(_.a)(r[t],2),a=c[0],i=c[1];n=Object(Q.a)(Object(Q.a)({},n),{},Object(_t.a)({},a,Object(Q.a)(Object(Q.a)({},i),{},{checked:!0})))}var o=Object(v.useState)(n),l=Object(_.a)(o,2),s=l[0],u=l[1];return[s,u,function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(Object(Q.a)(Object(Q.a)({},s),{},Object(_t.a)({},e,Object(Q.a)(Object(Q.a)({},s[e]),{},{checked:n}))))},function(e){var n=!s[e.target.name].required||!!e.target.value;u(Object(Q.a)(Object(Q.a)({},s),{},Object(_t.a)({},e.target.name,Object(Q.a)(Object(Q.a)({},s[e.target.name]),{},{value:e.target.value,checked:n}))))}]},St=w.c.input(Je||(Je=Object(x.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid ",";\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: ",";\n  font-family: inherit;\n  width: 100%;\n\n  color: ",";\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"])),(function(e){return e.theme.border}),(function(e){return e.theme.background}),(function(e){return e.theme.text})),It=w.c.label(Ze||(Ze=Object(x.a)(["\n  font-size: 2.3rem;\n  display: block;\n  margin-bottom: 1rem;\n  font-weight: 500;\n"]))),Nt=w.c.form(We||(We=Object(x.a)(["\n  margin: 5rem auto;\n  padding: 0 4rem;\n  margin-top: 0;\n\n  @media (min-width: ",") {\n    width: 80%;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),I,N,R),Dt=w.c.div(Qe||(Qe=Object(x.a)(["\n  :not(:first-child) {\n    margin: 4rem 0;\n  }\n"]))),Rt=w.c.p(en||(en=Object(x.a)(["\n  font-size: 1.3rem;\n  color: var(--color-red);\n  position: absolute;\n  margin-top: 0.7rem;\n"]))),Ut=w.c.div(nn||(nn=Object(x.a)(["\n  padding: 1.83rem 1.5rem;\n  border: 1px solid ",";\n  border-radius: 1rem;\n  font-size: 1.6rem;\n  width: min-content;\n  position: absolute;\n  background-color: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.border}),(function(e){return e.theme.background})),Ft=w.c.div(tn||(tn=Object(x.a)(["\n  pointer-events: none;\n  width: 1.3rem;\n  height: 2px;\n  background-color: ",";\n\n  transform: ",";\n\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: inherit;\n    height: inherit;\n    background-color: ",";\n    transition: var(--trans-default);\n    transform: ",";\n  }\n"])),(function(e){return e.minus?"var(--color-green)":"var(--color-red)"}),(function(e){return e.minus?"rotate(180deg)":"rotate(0)"}),(function(e){return e.minus?"var(--color-green)":"var(--color-red)"}),(function(e){return e.minus?"rotate(270deg)":"rotate(0)"})),Mt=w.c.select(rn||(rn=Object(x.a)(["\n  padding: 0.2rem 0.2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 3rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  color: "," !important;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"])),(function(e){return"black"===e.color?e.theme.text:"var(--color-".concat(e.color,")")})),Gt=function(e){var n=e.color,t=e.onChangeAction,r=e.style,c=e.currency,a=Object(p.c)((function(e){return e.currency.currencies})),i=Object(p.c)((function(e){return e.currency.primaryCurrency})),o=Object(v.useState)(i),l=Object(_.a)(o,2),s=l[0],u=l[1];Object(v.useEffect)((function(){c&&u(c)}),[c]),Object(v.useEffect)((function(){!c&&u(i)}),[i,c]);return Object(An.jsx)(Mt,{color:n,onChange:function(e){u(e.target.value),t(e)},value:s,style:r,children:Object.entries(a).map((function(e){return Object(An.jsx)("option",{value:e[0],children:e[0]},e[0])}))})},Lt=function(e){var n=e.handleSubmit,t=e.disabled,r=void 0!==t&&t,c=e.children,a=e.childrenBefore,i=e.button,o=void 0===i||i,l=e.data,s=e.currency,u=e.style,d=e.pageTitle,b=At(l||{title:{value:"",required:!0},amount:{value:"",required:!0}}),j=Object(_.a)(b,4),f=j[0],h=j[1],O=j[2],m=j[3],g=Object(p.c)((function(e){return e.currency.primaryCurrency})),x=Object(v.useState)(g),y=Object(_.a)(x,2),w=y[0],E=y[1],C=Object(v.useState)(!1),T=Object(_.a)(C,2),k=T[0],A=T[1],S=Object(v.useRef)(!1),I=f.title,N=f.amount;Object(v.useEffect)((function(){s&&E(s)}),[s]),Object(v.useEffect)((function(){!s&&E(g)}),[g,s]),Object(v.useEffect)((function(){parseFloat(N.value)<0&&(h({title:Object(Q.a)({},I),amount:Object(Q.a)(Object(Q.a)({},N),{},{value:(-1*parseFloat(N.value)).toFixed()})}),A(!0),S.current=!0)}),[]);return Object(An.jsxs)(Nt,{onSubmit:function(e){if(e.preventDefault(),!r){var t=N.required&&!N.value,c=I.required&&!I.value;if(t&&c){for(var a={},i=0,o=Object.entries(f);i<o.length;i++){var l=Object(_.a)(o[i],2),s=l[0],u=l[1];a=Object(Q.a)(Object(Q.a)({},a),{},Object(_t.a)({},s,Object(Q.a)(Object(Q.a)({},u),{},{checked:!1})))}h(a)}else c&&O("title"),t&&O("amount");if(t||c)return;var d=parseFloat(N.value);k&&d>0&&(d*=-1),n(I.value,d,w),h({title:Object(Q.a)(Object(Q.a)({},I),{},{value:""}),amount:Object(Q.a)(Object(Q.a)({},N),{},{value:""})}),A(!1),S.current=!1}},noValidate:!0,autoComplete:"off",style:u,children:[d&&Object(An.jsx)(Dt,{children:Object(An.jsx)(Rn,{children:d})}),a&&Object(An.jsx)(Dt,{children:a}),Object(An.jsxs)(Dt,{children:[Object(An.jsx)(It,{htmlFor:"title",children:"Title"}),Object(An.jsx)(St,{id:"title",name:"title",type:"text",placeholder:"Enter title",value:I.value,onChange:m}),!I.checked&&Object(An.jsx)(Rt,{children:"Fill out this field!"})]}),Object(An.jsxs)(Dt,{style:{position:"relative"},children:[Object(An.jsx)(It,{htmlFor:"amount",children:"Amount"}),Object(An.jsx)(Ut,{onClick:function(){A(!k),S.current=!k},children:Object(An.jsx)(Ft,{minus:!k})}),Object(An.jsx)(St,{id:"amount",name:"amount",type:"number",placeholder:"Enter amount",value:N.value,onChange:function(e){parseFloat(e.target.value)<0?A(!0):parseFloat(e.target.value)>=0&&!S.current&&A(!1),m(e)},style:{padding:"1rem 5rem"}}),Object(An.jsx)(Gt,{color:"black",onChangeAction:function(e){E(e.target.value)},style:{fontSize:"2.85rem",position:"absolute",right:"0"},currency:w}),!N.checked&&Object(An.jsx)(Rt,{children:"Fill out this field!"})]}),Object(An.jsx)(Dt,{children:c}),o&&Object(An.jsx)(U,{color:"green",textColor:"white",children:"Add"})]})},zt=function(e){var n=e._id,t=e.title,r=e.amount,c=Object(p.b)(),a=Object(v.useContext)(Hn),i=Object(p.c)((function(e){return e.googleUser})),o=function(){return a.handleClose()};return Object(An.jsxs)(An.Fragment,{children:[Object(An.jsxs)(Ct,{children:[Object(An.jsx)(Tt,{tabIndex:0,children:Object(An.jsx)(kn.c,{})}),Object(An.jsx)(Un,{children:"Edit"}),Object(An.jsx)(Tt,{tabIndex:0,style:{fontSize:"3.5rem",height:"4.5rem"},onClick:o,onKeyPress:function(e){return re(e,o)},children:Object(An.jsx)(kn.f,{})})]}),Object(An.jsx)("div",{style:{marginTop:"3.5rem"},children:Object(An.jsx)(Lt,{handleSubmit:function(e,t,r){var o={_id:n,userId:(null===i||void 0===i?void 0:i.googleId)?null===i||void 0===i?void 0:i.googleId:null,title:e,amount:{actual:t,currency:r,diff:0,starting:t},date:new Date};i?(c(se()),Bn.a.patch("".concat(K,"/budgets/").concat(n),Object(Q.a)({},o)).then((function(e){c(xn(e.data)),c(vn()),c(ue())}))):(c(xn(o)),c(vn())),a.handleClose()},button:!1,data:{title:{value:t,required:!0},amount:{value:r.starting.toFixed(2),required:!0}},style:{padding:0},currency:r.currency,children:Object(An.jsxs)(kt,{children:[Object(An.jsx)(U,{color:"gray-dark",textColor:"gray-dark",secondary:!0,style:{width:"48%"},onClick:function(){a.handleClose(),i?(c(se()),Bn.a.delete("".concat(K,"/budgets/").concat(n)).then((function(){c(pn(n)),Bn.a.delete("".concat(K,"/transactions?budgetId=").concat(n)).then((function(){c(En(n)),c(ue())}))}))):(c(pn(n)),c(En(n)))},type:"button",children:"Delete"}),Object(An.jsx)(U,{color:"gray-dark",textColor:"white",style:{width:"48%"},children:"Save"})]})})})]})},Bt=function(e){var n=Object(v.useState)(!1),t=Object(_.a)(n,2),r=t[0],c=t[1];return Object(An.jsxs)(An.Fragment,{children:[Object(An.jsxs)(Et,{children:[Object(An.jsx)(mt,Object(Q.a)({},e)),Object(An.jsx)(U,{color:"gray-dark",textColor:"white",onClick:function(){return c(!0)},children:"Edit"})]}),r&&Object(An.jsx)(qn,{closeModal:function(){return c(!1)},children:Object(An.jsx)(zt,Object(Q.a)({},e))})]})},Yt=(t(30),w.c.ul(cn||(cn=Object(x.a)(["\n  list-style-type: none;\n  margin-top: 4rem;\n\n  li {\n    margin: 0;\n    padding: 0;\n\n    :not(:last-child) {\n      margin-bottom: 3rem;\n    }\n  }\n"])))),Pt=w.c.div(an||(an=Object(x.a)(["\n  padding: 0 4rem;\n\n  @media (min-width: ",") {\n    width: 80%;\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    margin-left: 0;\n    transform: translateX(0);\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),I,N,D,R),Vt=w.c.select(on||(on=Object(x.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"]))),$t=w.c.div(ln||(ln=Object(x.a)(["\n  display: block;\n\n  @media (min-width: ",") {\n    display: flex;\n\n    flex-direction: row;\n    align-items: flex-start;\n  }\n"])),D),Xt=w.c.div(sn||(sn=Object(x.a)(["\n  margin: 4rem 0;\n  margin-left: 50%;\n  transform: translateX(-50%);\n  width: 80%;\n  height: 1px;\n  background-color: var(--color-gray-dark);\n  opacity: 0.3;\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),D),Ht=function(){var e=Object(p.c)((function(e){return e.budgets})),n=Object(v.useState)("date"),t=Object(_.a)(n,2),r=t[0],c=t[1];return Object(An.jsxs)(An.Fragment,{children:[Object(An.jsxs)(wt,{children:[Object(An.jsx)(It,{htmlFor:"sortBy",style:{marginTop:"3rem"},children:"Sort by"}),Object(An.jsxs)(Vt,{id:"sortBy",onChange:function(e){c(e.target.value)},value:r,children:[Object(An.jsx)("option",{value:"date",children:"Newest"}),Object(An.jsx)("option",{value:"date_r",children:"Oldest"}),Object(An.jsx)("option",{value:"title",children:"A...Z"}),Object(An.jsx)("option",{value:"title_r",children:"Z...A"}),Object(An.jsx)("option",{value:"amount",children:"Most money"}),Object(An.jsx)("option",{value:"amount_r",children:"Least money"})]})]}),Object(An.jsx)(yt,{children:Object(An.jsx)(Nn.a,{component:null,children:function(){var n=Object(ne.a)(e);return n.sort((function(e,n){var t;switch(r.split("_")[0]){case"title":t=e.title.localeCompare(n.title);break;case"date":t=e.date>n.date?-1:e.date<n.date?1:0;break;case"amount":t=e.amount.actual>n.amount.actual?-1:e.amount.actual<n.amount.actual?1:0;break;default:t=0}return t})),"r"===r.split("_")[1]&&n.reverse(),n.map((function(e){return Object(An.jsx)(Dn.a,{timeout:200,classNames:"slide",children:Object(An.jsx)("li",{children:Object(An.jsx)(Bt,Object(Q.a)({},e))})},e._id)}))}()})})]})},qt=t(96),Kt=function(){var e=Object(p.b)(),n=Object(p.c)((function(e){return e.googleUser}));return Object(An.jsx)(Lt,{handleSubmit:function(t,r,c){var a={_id:Object(qt.a)(),userId:n?null===n||void 0===n?void 0:n.googleId:null,title:t,amount:{actual:r,currency:c,diff:0,starting:r},date:new Date};n?(e(se()),Bn.a.post("".concat(K,"/budgets"),Object(Q.a)({},a)).then((function(n){e(gn(n.data)),e(ue())}))):e(gn(a))},pageTitle:"Budgets"})},Jt=function(){return Object(An.jsxs)("div",{children:[Object(An.jsx)(Kt,{}),Object(An.jsx)(Ht,{})]})},Zt=t(56),Wt=(t(87),w.c.select(un||(un=Object(x.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"])))),Qt=w.c.div(dn||(dn=Object(x.a)(["\n  margin-top: 4rem;\n  display: flex;\n  justify-content: space-between;\n  height: 14rem;\n  flex-direction: column;\n"]))),er=w.c.p(bn||(bn=Object(x.a)(["\n  font-size: 2rem;\n  margin-left: 1rem;\n  transition: var(--trans-default);\n  display: flex;\n  align-items: center;\n  color: ",";\n  opacity: ",";\n"])),(function(e){return e.theme.text}),(function(e){return e.checked?1:.2})),nr=w.c.div(jn||(jn=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  position: relative;\n\n  .calendar {\n    border-radius: 1.5rem;\n    border-color: var(--color-gray);\n    top: 4rem;\n    position: absolute;\n  }\n\n  button {\n    border-radius: 1rem;\n  }\n"]))),tr=Object(w.c)(nr)(fn||(fn=Object(x.a)(["\n  transition: var(--trans-default);\n  margin-top: ",";\n"])),(function(e){return e.animate?"35rem":"0"})),rr=w.c.div(hn||(hn=Object(x.a)(["\n  width: 2.6rem;\n  height: 2.6rem;\n  border: 1px solid ",";\n  display: inline-block;\n  border-radius: 50%;\n  position: relative;\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: 1.6rem;\n    height: 1.6rem;\n    background-color: ",";\n    opacity: ",";\n    border-radius: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    transition: var(--trans-default);\n  }\n"])),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.checked?1:0})),cr=function(){var e=Object(p.b)(),n=Object(p.c)((function(e){return e.budgets})),t=Object(p.c)((function(e){return e.googleUser})),r=Object(v.useState)(""),c=Object(_.a)(r,2),a=c[0],i=c[1],o=Object(v.useState)({repeat:!1,every:"1",type:"hours"}),l=Object(_.a)(o,2),s=l[0],u=l[1],d=Object(v.useState)(new Date),b=Object(_.a)(d,2),j=b[0],f=b[1],h=Object(v.useState)(!1),O=Object(_.a)(h,2),m=O[0],g=O[1],x=Object(v.useRef)(null),y=Object(v.useRef)(-1);Object(v.useEffect)((function(){return y.current!==n.length&&(n[0]?i(n[0]._id):i("")),function(){y.current=n.length}}),[n]);var w=n.filter((function(e){return e._id===a}))[0],E=function(e){u(Object(Q.a)(Object(Q.a)({},s),{},{repeat:!0})),e.target===x.current&&u(Object(Q.a)(Object(Q.a)({},s),{},{repeat:!s.repeat}))};return Object(An.jsx)(Lt,{handleSubmit:function(n,r,c){var i={_id:Object(qt.a)(),currency:c,budgetId:a,userId:t?t.googleId:null,title:n,amount:r,repeat:Object(Q.a)(Object(Q.a)({},s),{},{every:parseInt(s.every)}),date:m?j:new Date};u({repeat:!1,every:"1",type:"hours"}),g(!1),f(new Date),t?(e(se()),Bn.a.post("".concat(K,"/transactions"),Object(Q.a)({},i)).then((function(n){e(yn(n.data)),e(vn()),e(ue())}))):(e(yn(i)),e(vn()))},disabled:!n.length,button:!1,currency:w&&w.amount.currency,childrenBefore:Object(An.jsxs)(An.Fragment,{children:[Object(An.jsx)(It,{htmlFor:"selectBudget",children:"Select a budget"}),Object(An.jsx)(Wt,{id:"selectBudget",onChange:function(e){i(e.target.value)},value:a,children:n.map((function(e){return Object(An.jsxs)("option",{value:e._id,children:[e.title,": ",e.amount.actual.toFixed(2)," ",e.amount.currency]},e._id)}))})]}),pageTitle:"Payments",children:Object(An.jsxs)(An.Fragment,{children:[Object(An.jsxs)(nr,{children:[Object(An.jsx)(rr,{checked:m,onClick:function(){return g(!m)},tabIndex:0,onKeyPress:function(e){return re(e,(function(){return g(!m)}))}}),Object(An.jsx)(er,{checked:m,onClick:function(){return g(!m)},children:"Select date"}),Object(An.jsx)(Dn.a,{in:m,timeout:200,classNames:"fade",unmountOnExit:!0,children:Object(An.jsx)(Zt.a,{value:j,onChange:function(e){(new Date).getTime()-e.getTime()>0&&f(e)},className:"calendar"})})]}),Object(An.jsxs)(tr,{animate:m,onClick:E,children:[Object(An.jsx)(rr,{checked:s.repeat,tabIndex:0,onKeyPress:function(e){return re(e,E)},ref:x}),Object(An.jsxs)(er,{checked:s.repeat,children:["Repeat every",Object(An.jsx)(St,{style:{width:"4rem",padding:".5rem"},onChange:function(e){(!isNaN(parseInt(e.target.value))&&parseInt(e.target.value)>0||""===e.target.value)&&u(Object(Q.a)(Object(Q.a)({},s),{},{every:e.target.value}))},maxLength:3,value:s.every,disabled:!s.repeat}),Object(An.jsxs)(Wt,{style:{width:"8rem",padding:".5rem"},value:s.type,onChange:function(e){u(Object(Q.a)(Object(Q.a)({},s),{},{type:e.target.value}))},disabled:!s.repeat,children:[Object(An.jsx)("option",{value:"hours",children:"hours"}),Object(An.jsx)("option",{value:"days",children:"days"}),Object(An.jsx)("option",{value:"month",children:"month"}),Object(An.jsx)("option",{value:"year",children:"year"})]})]})]}),n[0]&&Object(An.jsx)(Qt,{children:a&&Object(An.jsx)(mt,Object(Q.a)({},w))}),Object(An.jsx)(U,{color:"green",textColor:"white",style:{marginTop:"3rem",opacity:n[0]?1:.6},onClick:function(e){return!n[0]&&e.preventDefault()},children:n[0]?"Add":"Add a budget"})]})})},ar=function(){var e=Object(p.c)((function(e){return e.transactions})),n=Object(p.c)((function(e){return e.budgets})),t=Object(v.useState)(""),r=Object(_.a)(t,2),c=r[0],a=r[1],i=Object(v.useState)("date"),o=Object(_.a)(i,2),l=o[0],s=o[1];return Object(An.jsxs)($t,{children:[Object(An.jsxs)(Pt,{children:[Object(An.jsx)(It,{children:"Repeated transactions"}),Object(An.jsx)(Yt,{children:Object(An.jsx)(Nn.a,{component:null,children:function(){var n=e.filter((function(e){return e.repeat.repeat}));return n.length?n.map((function(e){return Object(An.jsx)(Dn.a,{timeout:200,classNames:"slide",children:Object(An.jsx)("li",{children:Object(An.jsx)(it,Object(Q.a)({},e))})},e._id)})):Object(An.jsx)(Dn.a,{timeout:200,classNames:"slide",children:Object(An.jsx)(Ln,{children:"No transactions"})})}()})})]}),Object(An.jsx)(Xt,{}),Object(An.jsxs)(Pt,{children:[Object(An.jsx)(It,{htmlFor:"selectbg",children:"Filter transactions"}),Object(An.jsxs)(Vt,{id:"selectbg",onChange:function(e){a(e.target.value)},value:c,children:[Object(An.jsx)("option",{value:"",children:"All"}),n.map((function(e){return Object(An.jsxs)("option",{value:e._id,children:[e.title,": ",e.amount.actual.toFixed(2)," ",e.amount.currency]},e._id)}))]}),Object(An.jsx)(It,{htmlFor:"sort",style:{marginTop:"3rem"},children:"Sort by"}),Object(An.jsxs)(Vt,{id:"sort",onChange:function(e){s(e.target.value)},value:l,children:[Object(An.jsx)("option",{value:"date",children:"Newest"}),Object(An.jsx)("option",{value:"date_r",children:"Oldest"}),Object(An.jsx)("option",{value:"title",children:"A...Z"}),Object(An.jsx)("option",{value:"title_r",children:"Z...A"}),Object(An.jsx)("option",{value:"amount",children:"Most money"}),Object(An.jsx)("option",{value:"amount_r",children:"Least money"})]}),Object(An.jsx)(Yt,{children:Object(An.jsx)(Nn.a,{component:null,children:function(){var n=c?e.filter((function(e){return e.budgetId===c&&!e.repeat.repeat})):e.filter((function(e){return!e.repeat.repeat}));return n.length?(n.sort((function(e,n){var t;switch(l.split("_")[0]){case"title":t=e.title.localeCompare(n.title);break;case"date":t=e.date>n.date?-1:e.date<n.date?1:0;break;case"amount":t=e.amount>n.amount?-1:e.amount<n.amount?1:0;break;default:t=0}return t})),"r"===l.split("_")[1]&&n.reverse(),n.map((function(e){return Object(An.jsx)(Dn.a,{timeout:200,classNames:"slide",children:Object(An.jsx)("li",{children:Object(An.jsx)(it,Object(Q.a)({},e))})},e._id)}))):Object(An.jsx)(Dn.a,{timeout:200,classNames:"slide",children:Object(An.jsx)(Ln,{children:"No transactions"})})}()})})]})]})},ir=function(){return Object(An.jsxs)("div",{children:[Object(An.jsx)(cr,{}),Object(An.jsx)(ar,{})]})},or=function(){return Object(An.jsx)("h2",{children:"Coming soon"})},lr=function(){var e=Object(p.b)(),n=Object(p.c)((function(e){return e.budgets})),t=Object(p.c)((function(e){return e.currency})),r=Object(p.c)((function(e){return e.currency.primaryCurrency})),c=Object(p.c)((function(e){var n;return null===(n=e.googleUser)||void 0===n?void 0:n.googleId})),a=0;n.forEach((function(e){return a+=e.amount.actual/t.currencies[e.amount.currency]})),a=a/t.currencies.USD*t.currencies[r];return Object(An.jsxs)(Rn,{$color:Yn(a),children:[a.toFixed(2)," ",Object(An.jsx)(Gt,{color:Yn(a),onChangeAction:function(n){c?(e(se()),Bn.a.patch("".concat(K,"/users/").concat(c),{currency:n.target.value}).then((function(){e(Cn(n.target.value)),e(ue())}))):e(Cn(n.target.value))}})]})},sr=function(){var e=Object(Tn.g)();return Object(An.jsxs)(An.Fragment,{children:[Object(An.jsx)(lr,{}),Object(An.jsx)("div",{style:{position:"relative"},children:Object(An.jsx)(Nn.a,{component:null,children:Object(An.jsx)(Dn.a,{timeout:200,classNames:"fade",children:Object(An.jsxs)(Tn.c,{location:e,children:[Object(An.jsx)(Tn.a,{exact:!0,path:"/overview",children:Object(An.jsx)(vt,{})}),Object(An.jsx)(Tn.a,{exact:!0,path:"/budgets",children:Object(An.jsx)(Jt,{})}),Object(An.jsx)(Tn.a,{exact:!0,path:"/payments",children:Object(An.jsx)(ir,{})}),Object(An.jsx)(Tn.a,{exact:!0,path:"/statistics",children:Object(An.jsx)(or,{})})]})},e.pathname)})})]})},ur=function(){var e=Object(k.a)(T.a.mark((function e(n){var t,r,c,a,i,o,l,s,u,d,b;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Date,r=new Date(n.dateFetched),864e5,!(Math.floor((t.getTime()-r.getTime())/864e5)>=7)){e.next=16;break}return e.next=7,Bn.a.get("https://v1.nocodeapi.com/kriziuu/cx/FPLWrEBmjQDFHLdf/rates");case 7:return e.next=9,e.sent.data;case 9:for(c=e.sent,a={},i=0,o=Object.entries(c.rates);i<o.length;i++)l=Object(_.a)(o[i],2),s=l[0],u=l[1],d=Object(_t.a)({},s,u),a=Object(Q.a)(Object(Q.a)({},a),d);return b={dateFetched:t,source:c.source,currencies:a,primaryCurrency:n.primaryCurrency},e.abrupt("return",b);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),dr=function(){var e=Object(k.a)(T.a.mark((function e(n,t,r){var c,a,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,Bn.a.get("".concat(K,"/budgets"),{params:{userId:null===n||void 0===n?void 0:n.googleId}});case 3:return e.next=5,e.sent.data;case 5:return c=e.sent,e.next=8,Bn.a.get("".concat(K,"/transactions"),{params:{userId:null===n||void 0===n?void 0:n.googleId}});case 8:return e.next=10,e.sent.data;case 10:return a=e.sent,i="",e.next=14,Bn.a.get("".concat(K,"/users/").concat(null===n||void 0===n?void 0:n.googleId)).then((function(e){i=e.data.currency})).catch((function(){Bn.a.post("".concat(K,"/users"),{_id:null===n||void 0===n?void 0:n.googleId,currency:"USD"})}));case 14:return c=c.map((function(e){return e.date=new Date(e.date),e})),a.map((function(e){return e.date=new Date(e.date),e})),r(),e.abrupt("return",{budgets:c,transactions:a,userCurrency:i});case 18:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),br=t(55),jr=t.n(br),fr={body:"#FFF",text:"#222",border:"#CBD5E0",background:"#FFF"},hr={body:"#131313",text:"#eAeAeA",border:"#303030",background:"#2a2a2a"},Or=w.c.div(On||(On=Object(x.a)(["\n  width: 100vw;\n  margin-left: auto;\n  margin-right: auto;\n\n  @media (min-width: ",") {\n    width: 75vw;\n  }\n"])),R),mr=function(){var e=Object(p.b)(),n=Object(p.c)((function(e){return e.googleUser})),t=Object(p.c)((function(e){return e.currency})),r=Object(v.useRef)(!0),c=Object(p.c)((function(e){return e.loader})),a="light"===Object(p.c)((function(e){return e.theme}))?fr:hr,i=Object(v.useCallback)((function(){return e(se())}),[e]),o=Object(v.useCallback)((function(){return e(ue())}),[e]);return Object(v.useEffect)((function(){return r.current||(e(Object(J.action)(de.REMOVE_TRANSACTION_ALL)),e(Object(J.action)(te.REMOVE_BUDGET_ALL)),e(vn())),n&&dr(n,i,o).then((function(n){n.budgets.forEach((function(n){e(gn(n))})),n.transactions.forEach((function(n){e(yn(n))})),e(Cn(n.userCurrency)),e(vn())})),function(){r.current=!1}}),[n,e,i,o]),Object(v.useEffect)((function(){ur(t).then((function(n){e(function(e){return Object(J.action)(ie.UPDATE_CURRENCY,{currency:e})}(n))}))}),[t,e]),Object(An.jsxs)(w.a,{theme:a,children:[Object(An.jsx)(E,{}),Object(An.jsx)(Or,{children:Object(An.jsxs)(y.a,{children:[Object(An.jsx)(In,{}),Object(An.jsx)("main",{style:{position:"relative"},children:Object(An.jsx)(sr,{})})]})}),c&&Object(An.jsx)(qn,{closeModal:function(){},container:!1,closable:!1,children:Object(An.jsx)(jr.a,{size:"8rem",color:"silver"})})]})};g.a.render(Object(An.jsx)(p.a,{store:mn,children:Object(An.jsx)(mr,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.97183161.chunk.js.map