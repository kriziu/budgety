(this.webpackJsonpbudgety=this.webpackJsonpbudgety||[]).push([[0],{116:function(n,e,t){"use strict";t.r(e);var r,c,a,o,i,l,u,s,d,b,j,f,h,m,O=t(18),g=t.n(O),p=t(9),x=t(5),v=t(1),y=t(26),w=t(4),E=Object(w.b)(r||(r=Object(x.a)(["\n  *,\n  *::after,\n  *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n  }\n\n  select {\n    background-color: "," !important;\n    border: 1px solid "," !important;\n    color: "," !important;\n\n    :focus {\n    outline: none;\n    border-color: var(--color-blue-light) !important;\n  }\n  }\n\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-size: 1.6rem;\n    font-family: Roboto;\n    box-sizing: border-box;\n    background-color: ",";\n\n    color: ",";\n    transition: all .3s;\n  }\n\n  html {\n    font-size: 62.5%;\n  }\n\n\n  :root {\n    // COLORS\n    --color-red: #E53E3E;\n    --color-gray: #CBD5E0;\n    --color-gray-dark: #1A202C;\n    --color-green: #48BB78;\n    --color-black: #222;\n    --color-white: #fff;\n    --color-blue-light: #90CDF4;\n\n    // TRANSITIONS\n    --trans-default: all .2s ease;\n    \n    // SHADOWS\n    --shadow-default: 0px 5px 30px 2px rgba(0, 0, 0, 0.2);\n  }\n"])),(function(n){return n.theme.background}),(function(n){return n.theme.border}),(function(n){return n.theme.text}),(function(n){return n.theme.body}),(function(n){return n.theme.text})),C=t(25),T=t.n(C),_=t(29),k=t(10),A=t(49),S=t.n(A),I="36rem",N="48rem",D="62rem",R="75rem",F=w.c.button(c||(c=Object(x.a)(["\n  border-radius: 1rem;\n  border: ",";\n  width: 100%;\n  font-size: 1.8rem;\n  padding: 1.1rem;\n  color: ",";\n  background-color: ",";\n  font-family: inherit;\n  transition: var(--trans-default);\n\n  :hover,\n  :focus {\n    outline: none;\n    transform: translateY(-5%);\n    cursor: pointer;\n    box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.3);\n    ",";\n  }\n\n  :active {\n    transform: translateY(2%);\n    box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(n){return n.secondary?"2px solid var(--color-".concat(n.color,")"):"none"}),(function(n){return"var(--color-".concat(n.textColor,")")}),(function(n){return n.secondary?"var(--color-white)":"var(--color-".concat(n.color,")")}),(function(n){return n.secondary&&"background-color: var(--color-".concat(n.color,"); color: var(--color-white)")})),U=w.c.nav(a||(a=Object(x.a)(["\n  color: #111;\n  letter-spacing: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 3.5rem;\n  position: relative;\n"]))),M=w.c.div(o||(o=Object(x.a)(["\n  display: flex;\n  align-items: center;\n\n  h1 {\n    font-weight: 500;\n    font-size: 3rem;\n    margin-right: 2rem;\n    display: none;\n    color: ",";\n\n    @media (min-width: ",") {\n      display: block;\n    }\n  }\n"])),(function(n){return n.theme.text}),D),G=w.c.button(i||(i=Object(x.a)(["\n  width: 4.5rem;\n  height: 4.5rem;\n  border-radius: 35%;\n  background-color: #111;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 11;\n  position: fixed;\n  right: 3.5rem;\n  transition: var(--trans-default);\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),N),L=w.c.div(l||(l=Object(x.a)(["\n  pointer-events: none;\n  width: 2.2rem;\n  height: 3px;\n  background-color: #fff;\n\n  transform: ",";\n\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: 2.2rem;\n    height: 3px;\n    background-color: #fff;\n    transition: var(--trans-default);\n    transform: ",";\n  }\n\n  ::before {\n    content: '';\n    display: block;\n    width: 2.2rem;\n    height: 3px;\n    background-color: #fff;\n    transition: var(--trans-default);\n    transform: ",";\n\n    display: ",";\n  }\n"])),(function(n){return n.opened?"rotate(225deg) scale(1.3)":"rotate(0) scale(1)"}),(function(n){return n.opened?"rotate(90deg) translateY(0)":"rotate(0) translateY(".concat(n.focused?"250%":"125%",")")}),(function(n){return n.focused?"translateY(-350%)":"translateY(-225%)"}),(function(n){return n.opened?"none":"block"})),z=w.c.div(u||(u=Object(x.a)(["\n  background-color: #111;\n  position: fixed;\n  z-index: 10;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n\n  transition: var(--trans-default);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  transform: ",";\n\n  ul {\n    transition: var(--trans-default);\n    transition-delay: 0.1s;\n    flex-direction: column;\n    align-items: center;\n    display: flex;\n    padding: 0;\n    margin: 0;\n    margin-bottom: 25%;\n\n    transform: ",";\n\n    li {\n      :not(:last-child) {\n        margin-bottom: 4rem;\n      }\n    }\n  }\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),(function(n){return n.opened?"translateX(0)":"translateX(-100%)"}),(function(n){return n.opened?"translateX(0)":"translateX(-100%)"}),N),B=w.c.ul(s||(s=Object(x.a)(["\n  width: 47rem;\n  justify-content: space-around;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  li {\n    margin: 0;\n    padding: 0;\n    :not(:last-child) {\n    }\n  }\n\n  display: none;\n  @media (min-width: ",") {\n    display: flex;\n  }\n"])),N),P=Object(w.c)(y.b)(d||(d=Object(x.a)(["\n  font-size: 2.5rem;\n  text-decoration: none;\n  text-transform: capitalize;\n  ","\n\n  color: #fff;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  @media (min-width: ",") {\n    color: ",";\n    font-size: 1.6rem;\n  }\n\n  @media (min-width: ",") {\n    font-size: 2rem;\n  }\n"])),(function(n){return n.$isactive&&"text-decoration: underline; cursor: default;"}),N,(function(n){return n.theme.text}),R),Y=w.c.div(b||(b=Object(x.a)(["\n  border-radius: 50%;\n  background-image: ",";\n  background-size: cover;\n  padding: 2rem;\n  margin-right: 1.5rem;\n"])),(function(n){return"url('".concat(n.url,"')")})),V=Object(w.c)(F)(j||(j=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 0.9rem;\n\n  svg {\n    margin-right: 0.5rem;\n  }\n"]))),$=w.c.span(f||(f=Object(x.a)(["\n  position: absolute;\n  top: 3.5rem;\n  left: 3.5rem;\n"]))),X=w.c.span(h||(h=Object(x.a)(["\n  display: none;\n  margin-left: 2rem;\n\n  @media (min-width: ",") {\n    display: block;\n  }\n"])),N),H=t(52),q=["overview","budgets","payments","statistics"],K="https://budgety-server.herokuapp.com",J=t(12);!function(n){n.LOGIN="LOGIN",n.LOGOUT="LOGOUT"}(m||(m={}));var Z=function(){try{var n=localStorage.getItem("state");if(null===n)return;return JSON.parse(n)}catch(e){return void console.error(e)}},W=function(n){try{var e=JSON.stringify(n);localStorage.setItem("state",e)}catch(t){console.error(t)}},Q=t(7),nn=t(42),en=t(30);Date.prototype.getFancyDate=function(){var n=this.getDate().toString(),e=(this.getMonth()+1).toString();return parseInt(n)<10&&(n="0".concat(n)),parseInt(e)<10&&(e="0".concat(e)),"".concat(n,"/").concat(e,"/").concat(this.getFullYear())},Date.prototype.getFancyHours=function(){var n=this.getHours().toString(),e=this.getMinutes().toString();return parseInt(e)<10&&(e="0".concat(e)),parseInt(n)<10&&(n="0".concat(n)),"".concat(n,":").concat(e)};var tn,rn=function(n,e){"Enter"===n.key&&e(n)},cn=function(n){return new Promise((function(e){return setTimeout(e,n)}))},an=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=36e5*n.repeat.every,r=new Date,c=r.getTime(),a=e?new Date(r.getFullYear(),r.getMonth(),1).getTime():new Date(n.date).getTime(),o=1;if(!n.repeat.repeat)return 1;switch(n.repeat.type){case"hours":o=Math.floor((c-a)/t);break;case"days":o=Math.floor((c-a)/(24*t));break;case"month":o=Math.floor((c-a)/(24*t*31));break;case"year":o=Math.floor((c-a)/(24*t*365));break;default:o=1}return o};!function(n){n.ADD_BUDGET="ADD_BUDGET",n.REMOVE_BUDGET="REMOVE_BUDGET",n.EDIT_BUDGET="EDIT_BUDGET",n.CHANGE_TRANSACTIONS="CHANGE_TRANSACTIONS",n.REMOVE_BUDGET_ALL="REMOVE_BUDGET_ALL"}(tn||(tn={}));var on;!function(n){n.UPDATE_CURRENCY="UPDATE_CURRENCY",n.SET_PRIMARY_CURRENCY="SET_PRIMARY_CURRENCY"}(on||(on={}));var ln;!function(n){n.SET_LOADING="SET_LOADING",n.UNSET_LOADING="UNSET_LOADING"}(ln||(ln={}));var un,sn=function(){return Object(J.action)(ln.SET_LOADING)},dn=function(){return Object(J.action)(ln.UNSET_LOADING)};!function(n){n.CHANGE_THEME="CHANGE_THEME"}(un||(un={}));var bn;!function(n){n.ADD_TRANSACTION="ADD_TRANSACTION",n.REMOVE_TRANSACTION="REMOVE_TRANSACTION",n.REMOVE_TRANSACTIONS_BUDGET="REMOVE_TRANSACTIONS_BUDGET",n.EDIT_TRANSACTION="EDIT_TRANSACTION",n.REMOVE_TRANSACTION_ALL="REMOVE_TRANSACTION_ALL"}(bn||(bn={}));var jn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||nn.b,fn=Z(),hn=Object(nn.c)(Object(nn.a)({budgets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case tn.ADD_BUDGET:return[].concat(Object(en.a)(n),[e.payload.budget]);case tn.REMOVE_BUDGET:return n.filter((function(n){return n._id!==e.payload.budgetId}));case tn.EDIT_BUDGET:return n.map((function(n){return n._id===e.payload.budget._id?e.payload.budget:n}));case tn.CHANGE_TRANSACTIONS:return n.map((function(n){n.amount.actual=n.amount.starting;var t=e.payload.currency;return e.payload.transactions.forEach((function(e){var r=e.amount/t.currencies[e.currency]*t.currencies[n.amount.currency],c=an(e);e.repeat.repeat&&(r+=r*c),e.budgetId===n._id&&(n=Object(Q.a)(Object(Q.a)({},n),{},{amount:Object(Q.a)(Object(Q.a)({},n.amount),{},{actual:n.amount.actual+r})}))})),n=Object(Q.a)(Object(Q.a)({},n),{},{amount:Object(Q.a)(Object(Q.a)({},n.amount),{},{diff:n.amount.actual-n.amount.starting})})}));case tn.REMOVE_BUDGET_ALL:return[];default:return n}},transactions:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bn.ADD_TRANSACTION:return[].concat(Object(en.a)(n),[e.payload.transaction]);case bn.REMOVE_TRANSACTION:return n.filter((function(n){return n._id!==e.payload.transactionId}));case bn.REMOVE_TRANSACTIONS_BUDGET:return n.filter((function(n){return n.budgetId!==e.payload.budgetId}));case bn.EDIT_TRANSACTION:return n.map((function(n){return n._id===e.payload.transaction._id?e.payload.transaction:n}));case bn.REMOVE_TRANSACTION_ALL:return[];default:return n}},googleUser:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m.LOGIN:return Object(Q.a)({},e.payload.userInfo);case m.LOGOUT:return null;default:return n}},currency:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dateFetched:new Date(0),source:"USD",currencies:{},primaryCurrency:"USD"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case on.UPDATE_CURRENCY:return e.payload.currency;case on.SET_PRIMARY_CURRENCY:return Object(Q.a)(Object(Q.a)({},n),{},{primaryCurrency:e.payload.currencyString});default:return n}},loader:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ln.SET_LOADING:return!0;case ln.UNSET_LOADING:return!1;default:return n}},theme:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case un.CHANGE_THEME:return e.payload.theme;default:return n}}}),fn,jn());hn.subscribe((function(){var n=hn.getState(),e=n.budgets.filter((function(n){return null===n.userId})),t=n.transactions.filter((function(n){return null===n.userId}));if(null===n.googleUser)W(Object(Q.a)(Object(Q.a)({},n),{},{budgets:e,transactions:t,googleUser:null}));else{var r=Z();r&&W(Object(Q.a)(Object(Q.a)({},r),{},{theme:n.theme}))}}));var mn,On,gn,pn,xn,vn,yn,wn,En,Cn,Tn,_n,kn,An,Sn,In,Nn,Dn,Rn,Fn,Un,Mn,Gn,Ln,zn,Bn,Pn,Yn,Vn,$n,Xn,Hn,qn,Kn,Jn,Zn,Wn,Qn,ne,ee,te,re,ce,ae,oe,ie,le,ue,se,de,be,je,fe,he,me,Oe,ge,pe=hn,xe=function(n){return Object(J.action)(tn.ADD_BUDGET,{budget:n})},ve=function(n){return Object(J.action)(tn.REMOVE_BUDGET,{budgetId:n})},ye=function(n){return Object(J.action)(tn.EDIT_BUDGET,{budget:n})},we=function(){var n=pe.getState().transactions,e=pe.getState().currency;return Object(J.action)(tn.CHANGE_TRANSACTIONS,{transactions:n,currency:e})},Ee=function(n){return Object(J.action)(bn.ADD_TRANSACTION,{transaction:n})},Ce=function(n){return Object(J.action)(bn.REMOVE_TRANSACTION,{transactionId:n})},Te=function(n){return Object(J.action)(bn.REMOVE_TRANSACTIONS_BUDGET,{budgetId:n})},_e=function(n){return Object(J.action)(on.SET_PRIMARY_CURRENCY,{currencyString:n})},ke=t(11),Ae=t(23),Se=t(67),Ie=t(2),Ne=function(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.theme}));return Object(Ie.jsx)(F,{color:"light"===e?"gray":"black",textColor:"light"===e?"black":"white",onClick:function(){n(function(n){return Object(J.action)(un.CHANGE_THEME,{theme:n})}("light"===e?"dark":"light"))},style:{height:"4rem"},children:"light"===e?Object(Ie.jsx)(Se.a,{}):Object(Ie.jsx)(Ae.e,{})})},De=function(){var n=Object(v.useState)(!1),e=Object(k.a)(n,2),t=e[0],r=e[1],c=Object(v.useState)(!1),a=Object(k.a)(c,2),o=a[0],i=a[1],l=Object(v.useRef)(null),u=Object(p.b)(),s=Object(p.c)((function(n){return n.googleUser})),d=Object(ke.g)(),b=Object(ke.f)();Object(v.useEffect)((function(){var n=!1;q.forEach((function(e){"/".concat(e)===d.pathname&&(n=!0)})),n||b.push("/overview")}));var j=function(n){r(!t),n.target!==l.current&&window.scrollTo(0,0)},f=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.map((function(n,r){var c="/".concat(n)===d.pathname;return Object(Ie.jsx)("li",{children:Object(Ie.jsx)(P,{tabIndex:e||t?0:-1,onClick:function(n){return c?n.preventDefault():j(n)},to:n,$isactive:c,children:n})},r)}))},h=function(n){var e;n.profileObj&&u((e=n.profileObj,Object(J.action)(m.LOGIN,{userInfo:e})))},O=function(){var n=Object(_.a)(T.a.mark((function n(){var e;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=Z(),u(Object(J.action)(m.LOGOUT)),!e){n.next=9;break}return n.next=5,cn(100);case 5:e.budgets.forEach((function(n){return u(xe(n))})),e.transactions.forEach((function(n){return u(Ee(n))})),u(_e(e.currency.primaryCurrency)),u(we());case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(Ie.jsxs)(U,{children:[Object(Ie.jsxs)(M,{children:[Object(Ie.jsx)("h1",{style:{marginRight:"1rem"},children:"Budgety"}),null===s?Object(Ie.jsx)(S.a,{clientId:"118372615416-g77a8gaf92slnb4f50jr6o9cmh0f4ho1.apps.googleusercontent.com",buttonText:"Login",onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin",isSignedIn:!0,render:function(n){return Object(Ie.jsxs)(V,{color:"red",textColor:"white",onClick:n.onClick,disabled:n.disabled,children:[Object(Ie.jsx)(H.a,{}),"Login"]})}}):Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(Y,{url:s.imageUrl}),Object(Ie.jsx)(A.GoogleLogout,{clientId:"118372615416-cjlib17tonjdhn4tqtpnetm7mif08ah9.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:O,render:function(n){return Object(Ie.jsxs)(V,{color:"red",textColor:"white",onClick:n.onClick,disabled:n.disabled,children:[Object(Ie.jsx)(H.a,{}),"Logout"]})}})]}),Object(Ie.jsx)(X,{children:Object(Ie.jsx)(Ne,{})})]}),Object(Ie.jsx)(G,{"aria-label":"Navigation button",onClick:j,onFocus:function(){return i(!0)},onBlur:function(){return i(!1)},ref:l,children:Object(Ie.jsx)(L,{opened:t,focused:o})}),Object(Ie.jsxs)(z,{opened:t,children:[Object(Ie.jsx)($,{children:Object(Ie.jsx)(Ne,{})}),Object(Ie.jsx)("ul",{children:f(q,!1)})]}),Object(Ie.jsx)(B,{children:f(q)})]})},Re=t(119),Fe=t(117),Ue=(w.c.h1(mn||(mn=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 4rem;\n  font-weight: 400;\n  color: ",";\n  letter-spacing: 1px;\n  text-align: center;\n  margin: 1.5rem 0;\n"])),(function(n){return"black"===n.$color?n.theme.text:"var(--color-".concat(n.$color,")")})),w.c.h2(On||(On=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 3.5rem;\n  font-weight: 400;\n  color: ",";\n  letter-spacing: 1px;\n  text-align: center;\n  margin: 1rem 0;\n"])),(function(n){return"black"===n.$color?n.theme.text:"var(--color-".concat(n.$color,")")}))),Me=w.c.h3(gn||(gn=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 3rem;\n  font-weight: 400;\n  color: ",";\n  letter-spacing: 1px;\n  text-align: center;\n  margin: 1rem 0;\n"])),(function(n){return"black"===n.$color?n.theme.text:"var(--color-".concat(n.$color,")")})),Ge=w.c.h4(pn||(pn=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 2.5rem;\n  font-weight: 500;\n  color: ",";\n  text-align: center;\n  margin: 0.75rem 0;\n"])),(function(n){return"black"===n.$color?n.theme.text:"var(--color-".concat(n.$color,")")})),Le=w.c.h5(xn||(xn=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 2.3rem;\n  font-weight: 500;\n  color: ",";\n  text-align: center;\n  margin: 0.5rem 0;\n"])),(function(n){return"black"===n.$color?n.theme.text:"var(--color-".concat(n.$color,")")})),ze=w.c.h6(vn||(vn=Object(x.a)(["\n  transition: var(--trans-default);\n  font-size: 2rem;\n  font-weight: 500;\n  color: ",";\n  text-align: center;\n  margin: 0.5rem 0;\n"])),(function(n){return"black"===n.$color?n.theme.text:"var(--color-".concat(n.$color,")")})),Be=w.c.h3(yn||(yn=Object(x.a)(["\n  font-weight: 600;\n  color: ",";\n  opacity: 0.5;\n"])),(function(n){return n.theme.text})),Pe=t(14),Ye=t.n(Pe),Ve=function(n){return n>0?"green":n<0?"red":"black"},$e=w.c.div(wn||(wn=Object(x.a)(["\n  position: fixed;\n  z-index: 20;\n  background-color: rgba(0, 0, 0, 0.7);\n  width: 100vw;\n  height: 100vh;\n  transition: var(--trans-default);\n  opacity: ",";\n"])),(function(n){return n.animating?"0":"100%"})),Xe=w.c.div(En||(En=Object(x.a)(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  z-index: 21;\n  background-color: ",";\n  width: 75%;\n  padding: 2rem 2rem;\n  border-radius: 1rem;\n\n  @media (min-width: ",") {\n    width: 50%;\n  }\n\n  @media (min-width: ",") {\n    width: 50rem;\n  }\n"])),(function(n){return n.theme.body}),D,R),He=w.c.div(Cn||(Cn=Object(x.a)(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n"]))),qe=document.getElementById("modal"),Ke=Object(v.createContext)({handleClose:function(){}}),Je=function(n){var e=n.children,t=n.closeModal,r=n.closable,c=void 0===r||r,a=n.container,o=void 0===a||a,i=Object(v.useState)(!0),l=Object(k.a)(i,2),u=l[0],s=l[1],d=Object(v.useRef)(null);Object(v.useEffect)((function(){s(!1)}),[]);var b=function(){s(!0),setTimeout((function(){return t()}),200)};return g.a.createPortal(Object(Ie.jsx)($e,{animating:u,ref:d,onClick:function(n){return function(n){n.target===d.current&&c&&b()}(n)},children:o?Object(Ie.jsx)(Xe,{children:Object(Ie.jsx)(Ke.Provider,{value:{handleClose:b},children:e})}):Object(Ie.jsx)(Ke.Provider,{value:{handleClose:b},children:Object(Ie.jsx)(He,{children:e})})}),qe)},Ze=w.c.div(Tn||(Tn=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]))),We=function(n){var e=n.handleAction,t=Object(v.useContext)(Ke);return Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(Ge,{style:{marginBottom:"2rem"},children:"Are you sure?"}),Object(Ie.jsxs)(Ze,{children:[Object(Ie.jsx)(F,{color:"gray-dark",textColor:"gray-dark",secondary:!0,style:{width:"48%"},onClick:function(){return t.handleClose()},type:"button",children:"Cancel"}),Object(Ie.jsx)(F,{color:"gray-dark",textColor:"white",style:{width:"48%"},onClick:function(){t.handleClose(),e()},children:"Delete"})]})]})},Qe=w.c.div(_n||(_n=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),nt=w.c.div(kn||(kn=Object(x.a)(["\n  color: ",";\n  font-size: 2.1rem;\n  margin: 0 1rem;\n"])),(function(n){return"var(--color-".concat(n.color,")")})),et=w.c.h1(An||(An=Object(x.a)(["\n  font-size: 2rem;\n  font-weight: 500;\n"]))),tt=w.c.h2(Sn||(Sn=Object(x.a)(["\n  font-size: 1.6rem;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  width: max-content;\n"]))),rt=w.c.h2(In||(In=Object(x.a)(["\n  font-size: 1.5rem;\n  font-weight: 500;\n  opacity: 0.9;\n"]))),ct=w.c.h3(Nn||(Nn=Object(x.a)(["\n  font-size: 1.3rem;\n  font-weight: 500;\n  opacity: 0.8;\n"]))),at=Object(w.c)(F)(Dn||(Dn=Object(x.a)(["\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n\n  @media (min-width: ",") {\n    padding: 1rem;\n  }\n"])),I),ot=Object(w.c)(Ae.f)(Rn||(Rn=Object(x.a)(["\n  font-size: 3rem;\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),I),it=w.c.p(Fn||(Fn=Object(x.a)(["\n  display: none;\n\n  @media (min-width: ",") {\n    display: inline;\n  }\n"])),I),lt=function(n){var e=n._id,t=n.budgetId,r=n.title,c=n.amount,a=n.repeat,o=n.date,i=n.currency,l=n.deletable,u=void 0===l||l,s=Object(p.b)(),d=Object(v.useState)(!1),b=Object(k.a)(d,2),j=b[0],f=b[1],h=Object(v.useState)(null),m=Object(k.a)(h,2),O=m[0],g=m[1],x=Object(p.c)((function(n){return n.budgets})),y=Object(p.c)((function(n){return n.googleUser})),w=new Date(o);Object(v.useEffect)((function(){var n=x.filter((function(n){return n._id===t}))[0];n&&g(n)}),[x,t]);return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Qe,{children:[Object(Ie.jsxs)("div",{style:{flex:1},children:[Object(Ie.jsx)(et,{children:r}),O&&Object(Ie.jsx)(rt,{children:O.title}),Object(Ie.jsxs)(ct,{children:[w.getFancyDate()," | ",w.getFancyHours()]})]}),Object(Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[a.repeat&&Object(Ie.jsxs)(tt,{children:["Every ",a.every," ",a.type]}),Object(Ie.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(Ie.jsxs)(nt,{color:Ve(c),children:[c," ",i]}),u&&Object(Ie.jsx)("div",{children:Object(Ie.jsxs)(at,{color:"red",textColor:"white",onClick:function(){return f(!0)},children:[Object(Ie.jsx)(ot,{}),Object(Ie.jsx)(it,{children:"Delete"})]})})]})]})]}),j&&Object(Ie.jsx)(Je,{closeModal:function(){return f(!1)},children:Object(Ie.jsx)(We,{handleAction:function(){y?(s(sn()),Ye.a.delete("".concat(K,"/transactions/").concat(e)).then((function(){s(Ce(e)),s(we()),s(dn())}))):(s(Ce(e)),s(we()))}})})]})},ut=w.c.span(Un||(Un=Object(x.a)(["\n  border-radius: 1rem;\n  padding: 0.5rem 1rem;\n  font-size: 1.8rem;\n  opacity: 0.5;\n  height: min-content;\n  display: inline-block;\n  background-color: var(--color-gray);\n  cursor: pointer;\n  color: black;\n"]))),st=w.c.ul(Mn||(Mn=Object(x.a)(["\n  width: 75%;\n  margin-left: 50%;\n  transform: translateX(-50%);\n  list-style: none;\n\n  @media (min-width: ",") {\n    width: 65%;\n  }\n\n  @media (min-width: ",") {\n    width: 50%;\n  }\n\n  @media (min-width: ",") {\n    width: 100%;\n  }\n"])),I,N,D),dt=function(){var n=Object(ke.f)(),e=Object(p.c)((function(n){return n.transactions})).filter((function(n){return!n.repeat.repeat})).sort((function(n,e){return n.date>e.date?-1:n.date<e.date?1:0})).slice(0,3),t=Object(p.c)((function(n){return n.transactions})).filter((function(n){return n.repeat.repeat})).sort((function(n,e){return n.date>e.date?-1:n.date<e.date?1:0})).slice(0,3);return Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)(Ge,{style:{marginTop:"8rem"},children:["Repeat Payments"," ",Object(Ie.jsx)(ut,{tabIndex:0,onClick:function(){return n.push("payments")},onKeyPress:function(e){return rn(e,(function(){return n.push("payments")}))},children:"See all"})]}),Object(Ie.jsxs)(st,{children:[" ",t.length?t.map((function(n){return Object(Ie.jsx)("li",{children:Object(Ie.jsx)(lt,Object(Q.a)(Object(Q.a)({},n),{},{deletable:!1}))},n._id)})):Object(Ie.jsx)(Be,{style:{marginTop:"1.5rem"},children:"There is no payments"})]})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)(Ge,{style:{marginTop:"8rem"},children:["Frequent Payments"," ",Object(Ie.jsx)(ut,{tabIndex:0,onClick:function(){return n.push("payments")},onKeyPress:function(e){return rn(e,(function(){return n.push("payments")}))},children:"See all"})]}),Object(Ie.jsxs)(st,{children:[" ",e.length?e.map((function(n){return Object(Ie.jsx)("li",{children:Object(Ie.jsx)(lt,Object(Q.a)(Object(Q.a)({},n),{},{deletable:!1}))},n._id)})):Object(Ie.jsx)(Be,{style:{marginTop:"1.5rem"},children:"There is no payments"})]})]})]})},bt=w.c.div(Gn||(Gn=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  width: 75%;\n  margin-left: 50%;\n  transform: translateX(-50%);\n\n  @media (min-width: ",") {\n    width: 65%;\n  }\n\n  @media (min-width: ",") {\n    width: 50%;\n  }\n\n  @media (min-width: ",") {\n    width: 40%;\n  }\n"])),I,N,R),jt=w.c.div(Ln||(Ln=Object(x.a)(["\n  padding: 0;\n  flex-direction: column;\n  align-items: center;\n"]))),ft=new Date,ht=function(){var n=Object(p.c)((function(n){return n.transactions})),e=Object(p.c)((function(n){return n.currency})),t=Object(v.useState)({income:0,spent:0,total:0}),r=Object(k.a)(t,2),c=r[0],a=r[1];return Object(v.useEffect)((function(){var t={income:0,spent:0,total:0};n.forEach((function(n){var r=new Date(n.date),c=r.getMonth()===ft.getMonth()?an(n):an(n,!0);if(r.getMonth()===ft.getMonth()||n.repeat.repeat)if(n.amount>0){var a=n.amount/e.currencies[n.currency]*e.currencies[e.primaryCurrency];n.repeat.repeat&&(a+=a*c),t.income+=a}else if(n.amount<0){var o=n.amount/e.currencies[n.currency]*e.currencies[e.primaryCurrency];n.repeat.repeat&&(o+=o*c),t.spent+=o}t.total=t.income+t.spent})),a(t)}),[n,e.currencies,e.primaryCurrency]),Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(Ge,{style:{marginTop:"4rem"},children:"Outgoings last month"}),Object(Ie.jsxs)(bt,{children:[Object(Ie.jsxs)(jt,{children:[Object(Ie.jsx)(ze,{children:"Income"}),Object(Ie.jsxs)(Le,{$color:"green",children:[c.income.toFixed()," ",e.primaryCurrency]})]}),Object(Ie.jsxs)(jt,{children:[Object(Ie.jsx)(ze,{children:"Total"}),Object(Ie.jsxs)(Le,{$color:Ve(c.total),children:[c.total.toFixed()," ",e.primaryCurrency]})]}),Object(Ie.jsxs)(jt,{children:[Object(Ie.jsx)(ze,{children:"Spent"}),Object(Ie.jsxs)(Le,{$color:"red",children:[c.spent.toFixed()," ",e.primaryCurrency]})]})]})]})},mt=w.c.div(zn||(zn=Object(x.a)(["\n  font-size: 2.5rem;\n  color: ",";\n  font-weight: 400;\n  text-align: center;\n  margin-left: 0;\n  margin-bottom: 0.5rem;\n  position: relative;\n  height: 5rem;\n"])),(function(n){return"black"===n.color?n.theme.text:"var(--color-".concat(n.color,")")})),Ot=w.c.h3(Bn||(Bn=Object(x.a)(["\n  font-size: 2rem;\n  font-weight: 400;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: max-content;\n  transform: translateY(-50%) translateX(-50%);\n"]))),gt=w.c.i(Pn||(Pn=Object(x.a)(["\n  position: absolute;\n  top: ",";\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n"])),(function(n){return n.amount>0?"25%":"90%"})),pt=function(n){var e=n.title,t=n.amount;return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(Me,{children:e}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)(Le,{$color:Ve(t.actual),children:[t.actual.toFixed(2)," ",t.currency]}),Object(Ie.jsxs)(mt,{color:Ve(t.diff),children:[Object(Ie.jsxs)(Ot,{children:[t.diff.toFixed(2)," ",t.currency]}),Object(Ie.jsx)(gt,{amount:t.diff,children:t.diff>0?Object(Ie.jsx)(Ae.b,{}):t.diff<0?Object(Ie.jsx)(Ae.a,{}):Object(Ie.jsx)(Ae.d,{})})]})]})]})},xt=w.c.div(Yn||(Yn=Object(x.a)(["\n  margin-top: 2rem;\n\n  margin-left: 50%;\n  transform: translateX(-50%);\n\n  padding: 2rem;\n  border-radius: 1rem;\n  width: 20rem;\n  box-shadow: var(--shadow-default);\n"]))),vt=function(){var n=Object(ke.f)(),e=Object(p.c)((function(n){return n.budgets.sort((function(n,e){return n.amount.actual>e.amount.actual?-1:n.amount.actual<e.amount.actual?1:0}))[0]}));return Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)(Ge,{style:{marginTop:"6rem"},children:["Most valuable Budget"," ",Object(Ie.jsx)(ut,{tabIndex:0,onClick:function(){return n.push("budgets")},onKeyPress:function(e){return rn(e,(function(){return n.push("payments")}))},children:"See all"})]}),e?Object(Ie.jsx)(xt,{children:Object(Ie.jsx)(pt,Object(Q.a)({},e))}):Object(Ie.jsx)(st,{children:Object(Ie.jsx)(Be,{style:{marginTop:"1.5rem"},children:"There is no budgets"})})]})},yt=w.c.div(Vn||(Vn=Object(x.a)(["\n  display: block;\n\n  @media (min-width: ",") {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  @media (min-width: ",") {\n    width: 75%;\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"])),D,R),wt=function(){return Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(Ue,{children:"Overview"}),Object(Ie.jsx)(ht,{}),Object(Ie.jsxs)(yt,{children:[Object(Ie.jsx)(vt,{}),Object(Ie.jsx)(dt,{})]})]})},Et=w.c.ul($n||($n=Object(x.a)(["\n  list-style: none;\n  margin: 4rem auto;\n  padding: 0;\n  justify-content: center;\n  gap: 4rem;\n  grid-template-columns: repeat(auto-fit, 23rem);\n  padding: 0 4rem;\n  align-items: center;\n\n  @media (min-width: ",") {\n    padding: 0 8rem;\n  }\n\n  display: grid;\n"])),I),Ct=w.c.div(Xn||(Xn=Object(x.a)(["\n  margin: 4rem auto;\n  padding: 0 4rem;\n\n  @media (min-width: ",") {\n    width: 80%;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),I,N,R),Tt=w.c.div(Hn||(Hn=Object(x.a)(["\n  width: 23rem;\n  height: max-content;\n  box-shadow: var(--shadow-default);\n  border-radius: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 2rem;\n"]))),_t=w.c.div(qn||(qn=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),kt=w.c.span(Kn||(Kn=Object(x.a)(["\n  font-size: 3rem;\n  height: 4rem;\n  padding: 0.5rem;\n  cursor: pointer;\n  border: solid 1px transparent;\n  border-radius: 1rem;\n\n  :focus,\n  :hover {\n    outline: none;\n    border-color: var(--color-blue-light);\n    transition: var(--trans-default);\n  }\n"]))),At=w.c.div(Jn||(Jn=Object(x.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"]))),St=t(24),It=function(n){for(var e={},t=0,r=Object.entries(n);t<r.length;t++){var c=Object(k.a)(r[t],2),a=c[0],o=c[1];e=Object(Q.a)(Object(Q.a)({},e),{},Object(St.a)({},a,Object(Q.a)(Object(Q.a)({},o),{},{checked:!0})))}var i=Object(v.useState)(e),l=Object(k.a)(i,2),u=l[0],s=l[1];return[u,s,function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(Object(Q.a)(Object(Q.a)({},u),{},Object(St.a)({},n,Object(Q.a)(Object(Q.a)({},u[n]),{},{checked:e}))))},function(n){var e=!u[n.target.name].required||!!n.target.value;s(Object(Q.a)(Object(Q.a)({},u),{},Object(St.a)({},n.target.name,Object(Q.a)(Object(Q.a)({},u[n.target.name]),{},{value:n.target.value,checked:e}))))}]},Nt=w.c.input(Zn||(Zn=Object(x.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid ",";\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: ",";\n  font-family: inherit;\n  width: 100%;\n\n  color: ",";\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"])),(function(n){return n.theme.border}),(function(n){return n.theme.background}),(function(n){return n.theme.text})),Dt=w.c.label(Wn||(Wn=Object(x.a)(["\n  font-size: 2.3rem;\n  display: block;\n  margin-bottom: 1rem;\n  font-weight: 500;\n"]))),Rt=w.c.form(Qn||(Qn=Object(x.a)(["\n  margin: 5rem auto;\n  padding: 0 4rem;\n  margin-top: 0;\n\n  @media (min-width: ",") {\n    width: 80%;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),I,N,R),Ft=w.c.div(ne||(ne=Object(x.a)(["\n  :not(:first-child) {\n    margin: 4rem 0;\n  }\n"]))),Ut=w.c.p(ee||(ee=Object(x.a)(["\n  font-size: 1.3rem;\n  color: var(--color-red);\n  position: absolute;\n  margin-top: 0.7rem;\n"]))),Mt=w.c.div(te||(te=Object(x.a)(["\n  padding: 1.83rem 1.5rem;\n  border: 1px solid ",";\n  border-radius: 1rem;\n  font-size: 1.6rem;\n  width: min-content;\n  position: absolute;\n  background-color: ",";\n  cursor: pointer;\n"])),(function(n){return n.theme.border}),(function(n){return n.theme.background})),Gt=w.c.div(re||(re=Object(x.a)(["\n  pointer-events: none;\n  width: 1.3rem;\n  height: 2px;\n  background-color: ",";\n\n  transform: ",";\n\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: inherit;\n    height: inherit;\n    background-color: ",";\n    transition: var(--trans-default);\n    transform: ",";\n  }\n"])),(function(n){return n.minus?"var(--color-green)":"var(--color-red)"}),(function(n){return n.minus?"rotate(180deg)":"rotate(0)"}),(function(n){return n.minus?"var(--color-green)":"var(--color-red)"}),(function(n){return n.minus?"rotate(270deg)":"rotate(0)"})),Lt=t(70),zt=(w.c.select(ce||(ce=Object(x.a)(["\n  padding: 0.2rem 0.2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 3rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  color: "," !important;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"])),(function(n){return"black"===n.color?n.theme.text:"var(--color-".concat(n.color,")")})),w.c.div(ae||(ae=Object(x.a)(["\n  width: 13rem;\n  display: inline-block;\n"])))),Bt=Object(w.c)(Lt.a)(oe||(oe=Object(x.a)(["\n  .Select {\n    &__control {\n      background-color: ",";\n      border: 1px solid ",";\n      color: ",";\n      border-radius: 1rem;\n      flex-wrap: nowrap;\n    }\n\n    &__value-container {\n      color: ",";\n      border-radius: 1rem;\n      width: 2rem;\n      width: 3rem;\n    }\n\n    &__input {\n      color: ",";\n    }\n\n    &__single-value {\n      color: "," !important;\n    }\n\n    &__menu {\n      background-color: ",";\n      color: ",";\n    }\n\n    &__option--is-focused {\n      background-color: var(--color-blue-light);\n    }\n  }\n"])),(function(n){return n.theme.background}),(function(n){return n.theme.border}),(function(n){return n.color?n.theme.text:"var(--color-".concat(n.color,")")}),(function(n){return n.theme.text}),(function(n){return n.theme.text}),(function(n){return"black"===n.color?n.theme.text:"var(--color-".concat(n.color,")")}),(function(n){return n.theme.background}),(function(n){return n.theme.text})),Pt=function(n){var e=n.color,t=n.onChangeAction,r=(n.style,n.currency),c=n.container,a=void 0===c||c,o=Object(p.c)((function(n){return n.currency.currencies})),i=Object(p.c)((function(n){return n.currency.primaryCurrency})),l=Object(v.useState)(i),u=Object(k.a)(l,2),s=u[0],d=u[1];Object(v.useEffect)((function(){r&&d(r)}),[r]),Object(v.useEffect)((function(){!r&&d(i)}),[i,r]);var b=Object.entries(o).map((function(n){return{value:n[0],label:n[0]}})),j=function(n){d(n.value),t(n.value)},f=function(){return Object(Ie.jsx)(Bt,{options:b,classNamePrefix:"Select",color:e,value:{value:s,label:s},onChange:j})};return Object(Ie.jsx)(Ie.Fragment,{children:a?Object(Ie.jsx)(zt,{children:f()}):f()})},Yt=function(n){var e=n.handleSubmit,t=n.disabled,r=void 0!==t&&t,c=n.children,a=n.childrenBefore,o=n.button,i=void 0===o||o,l=n.data,u=n.currency,s=n.style,d=n.pageTitle,b=It(l||{title:{value:"",required:!0},amount:{value:"",required:!0}}),j=Object(k.a)(b,4),f=j[0],h=j[1],m=j[2],O=j[3],g=Object(p.c)((function(n){return n.currency.primaryCurrency})),x=Object(v.useState)(g),y=Object(k.a)(x,2),w=y[0],E=y[1],C=Object(v.useState)(!1),T=Object(k.a)(C,2),_=T[0],A=T[1],S=Object(v.useRef)(!1),I=f.title,N=f.amount;Object(v.useEffect)((function(){u&&E(u)}),[u]),Object(v.useEffect)((function(){!u&&E(g)}),[g,u]),Object(v.useEffect)((function(){parseFloat(N.value)<0&&(h({title:Object(Q.a)({},I),amount:Object(Q.a)(Object(Q.a)({},N),{},{value:(-1*parseFloat(N.value)).toFixed()})}),A(!0),S.current=!0)}),[]);return Object(Ie.jsxs)(Rt,{onSubmit:function(n){if(n.preventDefault(),!r){var t=N.required&&!N.value,c=I.required&&!I.value;if(t&&c){for(var a={},o=0,i=Object.entries(f);o<i.length;o++){var l=Object(k.a)(i[o],2),u=l[0],s=l[1];a=Object(Q.a)(Object(Q.a)({},a),{},Object(St.a)({},u,Object(Q.a)(Object(Q.a)({},s),{},{checked:!1})))}h(a)}else c&&m("title"),t&&m("amount");if(t||c)return;var d=parseFloat(N.value);_&&d>0&&(d*=-1),e(I.value,d,w),h({title:Object(Q.a)(Object(Q.a)({},I),{},{value:""}),amount:Object(Q.a)(Object(Q.a)({},N),{},{value:""})}),A(!1),S.current=!1}},noValidate:!0,autoComplete:"off",style:s,children:[d&&Object(Ie.jsx)(Ft,{children:Object(Ie.jsx)(Ue,{children:d})}),a&&Object(Ie.jsx)(Ft,{children:a}),Object(Ie.jsxs)(Ft,{children:[Object(Ie.jsx)(Dt,{htmlFor:"title",children:"Title"}),Object(Ie.jsx)(Nt,{id:"title",name:"title",type:"text",placeholder:"Enter title",value:I.value,onChange:O}),!I.checked&&Object(Ie.jsx)(Ut,{children:"Fill out this field!"})]}),Object(Ie.jsxs)(Ft,{style:{position:"relative"},children:[Object(Ie.jsx)(Dt,{htmlFor:"amount",children:"Amount"}),Object(Ie.jsx)(Mt,{onClick:function(){A(!_),S.current=!_},children:Object(Ie.jsx)(Gt,{minus:!_})}),Object(Ie.jsx)(Nt,{id:"amount",name:"amount",type:"number",placeholder:"Enter amount",value:N.value,onChange:function(n){parseFloat(n.target.value)<0?A(!0):parseFloat(n.target.value)>=0&&!S.current&&A(!1),O(n)},style:{padding:"1rem 5rem"}}),Object(Ie.jsx)("div",{style:{display:"inline-block",width:"10rem",fontSize:"2rem",position:"absolute",right:"0"},children:Object(Ie.jsx)(Pt,{color:"black",onChangeAction:function(n){E(n)},currency:w,container:!1})}),!N.checked&&Object(Ie.jsx)(Ut,{children:"Fill out this field!"})]}),Object(Ie.jsx)(Ft,{children:c}),i&&Object(Ie.jsx)(F,{color:"green",textColor:"white",children:"Add"})]})},Vt=function(n){var e=n._id,t=n.title,r=n.amount,c=Object(p.b)(),a=Object(v.useContext)(Ke),o=Object(p.c)((function(n){return n.googleUser})),i=function(){return a.handleClose()};return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(_t,{children:[Object(Ie.jsx)(kt,{tabIndex:0,children:Object(Ie.jsx)(Ae.c,{})}),Object(Ie.jsx)(Me,{children:"Edit"}),Object(Ie.jsx)(kt,{tabIndex:0,style:{fontSize:"3.5rem",height:"4.5rem"},onClick:i,onKeyPress:function(n){return rn(n,i)},children:Object(Ie.jsx)(Ae.f,{})})]}),Object(Ie.jsx)("div",{style:{marginTop:"3.5rem"},children:Object(Ie.jsx)(Yt,{handleSubmit:function(n,t,r){var i={_id:e,userId:(null===o||void 0===o?void 0:o.googleId)?null===o||void 0===o?void 0:o.googleId:null,title:n,amount:{actual:t,currency:r,diff:0,starting:t},date:new Date};o?(c(sn()),Ye.a.patch("".concat(K,"/budgets/").concat(e),Object(Q.a)({},i)).then((function(n){c(ye(n.data)),c(we()),c(dn())}))):(c(ye(i)),c(we())),a.handleClose()},button:!1,data:{title:{value:t,required:!0},amount:{value:r.starting.toFixed(2),required:!0}},style:{padding:0},currency:r.currency,children:Object(Ie.jsxs)(At,{children:[Object(Ie.jsx)(F,{color:"gray-dark",textColor:"gray-dark",secondary:!0,style:{width:"48%"},onClick:function(){a.handleClose(),o?(c(sn()),Ye.a.delete("".concat(K,"/budgets/").concat(e)).then((function(){c(ve(e)),Ye.a.delete("".concat(K,"/transactions?budgetId=").concat(e)).then((function(){c(Te(e)),c(dn())}))}))):(c(ve(e)),c(Te(e)))},type:"button",children:"Delete"}),Object(Ie.jsx)(F,{color:"gray-dark",textColor:"white",style:{width:"48%"},children:"Save"})]})})})]})},$t=function(n){var e=Object(v.useState)(!1),t=Object(k.a)(e,2),r=t[0],c=t[1];return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Tt,{children:[Object(Ie.jsx)(pt,Object(Q.a)({},n)),Object(Ie.jsx)(F,{color:"gray-dark",textColor:"white",onClick:function(){return c(!0)},children:"Edit"})]}),r&&Object(Ie.jsx)(Je,{closeModal:function(){return c(!1)},children:Object(Ie.jsx)(Vt,Object(Q.a)({},n))})]})},Xt=(t(37),w.c.ul(ie||(ie=Object(x.a)(["\n  list-style-type: none;\n  margin-top: 4rem;\n\n  li {\n    margin: 0;\n    padding: 0;\n\n    :not(:last-child) {\n      margin-bottom: 3rem;\n    }\n  }\n"])))),Ht=w.c.div(le||(le=Object(x.a)(["\n  padding: 0 4rem;\n\n  @media (min-width: ",") {\n    width: 80%;\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n  }\n\n  @media (min-width: ",") {\n    margin-left: 0;\n    transform: translateX(0);\n  }\n\n  @media (min-width: ",") {\n    width: 55%;\n  }\n"])),I,N,D,R),qt=w.c.select(ue||(ue=Object(x.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"]))),Kt=w.c.div(se||(se=Object(x.a)(["\n  display: block;\n\n  @media (min-width: ",") {\n    display: flex;\n\n    flex-direction: row;\n    align-items: flex-start;\n  }\n"])),D),Jt=w.c.div(de||(de=Object(x.a)(["\n  margin: 4rem 0;\n  margin-left: 50%;\n  transform: translateX(-50%);\n  width: 80%;\n  height: 1px;\n  background-color: var(--color-gray-dark);\n  opacity: 0.3;\n\n  @media (min-width: ",") {\n    display: none;\n  }\n"])),D),Zt=function(){var n=Object(p.c)((function(n){return n.budgets})),e=Object(v.useState)("date"),t=Object(k.a)(e,2),r=t[0],c=t[1];return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Ct,{children:[Object(Ie.jsx)(Dt,{htmlFor:"sortBy",style:{marginTop:"3rem"},children:"Sort by"}),Object(Ie.jsxs)(qt,{id:"sortBy",onChange:function(n){c(n.target.value)},value:r,children:[Object(Ie.jsx)("option",{value:"date",children:"Newest"}),Object(Ie.jsx)("option",{value:"date_r",children:"Oldest"}),Object(Ie.jsx)("option",{value:"title",children:"A...Z"}),Object(Ie.jsx)("option",{value:"title_r",children:"Z...A"}),Object(Ie.jsx)("option",{value:"amount",children:"Most money"}),Object(Ie.jsx)("option",{value:"amount_r",children:"Least money"})]})]}),Object(Ie.jsx)(Et,{children:Object(Ie.jsx)(Re.a,{component:null,children:function(){var e=Object(en.a)(n);return e.sort((function(n,e){var t;switch(r.split("_")[0]){case"title":t=n.title.localeCompare(e.title);break;case"date":t=n.date>e.date?-1:n.date<e.date?1:0;break;case"amount":t=n.amount.actual>e.amount.actual?-1:n.amount.actual<e.amount.actual?1:0;break;default:t=0}return t})),"r"===r.split("_")[1]&&e.reverse(),e.map((function(n){return Object(Ie.jsx)(Fe.a,{timeout:200,classNames:"slide",children:Object(Ie.jsx)("li",{children:Object(Ie.jsx)($t,Object(Q.a)({},n))})},n._id)}))}()})})]})},Wt=t(118),Qt=function(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.googleUser}));return Object(Ie.jsx)(Yt,{handleSubmit:function(t,r,c){var a={_id:Object(Wt.a)(),userId:e?null===e||void 0===e?void 0:e.googleId:null,title:t,amount:{actual:r,currency:c,diff:0,starting:r},date:new Date};e?(n(sn()),Ye.a.post("".concat(K,"/budgets"),Object(Q.a)({},a)).then((function(e){n(xe(e.data)),n(dn())}))):n(xe(a))},pageTitle:"Budgets"})},nr=function(){return Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(Qt,{}),Object(Ie.jsx)(Zt,{})]})},er=t(69),tr=(t(111),w.c.select(be||(be=Object(x.a)(["\n  padding: 1rem 2rem;\n  border: 1px solid var(--color-gray);\n  border-radius: 1rem;\n  transition: var(--trans-default);\n  font-size: 1.6rem;\n  background-color: var(--color-white);\n  font-family: inherit;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    border-color: var(--color-blue-light);\n  }\n"])))),rr=w.c.div(je||(je=Object(x.a)(["\n  margin-top: 4rem;\n  display: flex;\n  justify-content: space-between;\n  height: 14rem;\n  flex-direction: column;\n"]))),cr=w.c.p(fe||(fe=Object(x.a)(["\n  font-size: 2rem;\n  margin-left: 1rem;\n  transition: var(--trans-default);\n  display: flex;\n  align-items: center;\n  color: ",";\n  opacity: ",";\n"])),(function(n){return n.theme.text}),(function(n){return n.checked?1:.2})),ar=w.c.div(he||(he=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  position: relative;\n\n  .calendar {\n    border-radius: 1.5rem;\n    border-color: var(--color-gray);\n    top: 4rem;\n    position: absolute;\n  }\n\n  button {\n    border-radius: 1rem;\n  }\n"]))),or=Object(w.c)(ar)(me||(me=Object(x.a)(["\n  transition: var(--trans-default);\n  margin-top: ",";\n"])),(function(n){return n.animate?"35rem":"0"})),ir=w.c.div(Oe||(Oe=Object(x.a)(["\n  width: 2.6rem;\n  height: 2.6rem;\n  border: 1px solid ",";\n  display: inline-block;\n  border-radius: 50%;\n  position: relative;\n  transition: var(--trans-default);\n\n  ::after {\n    content: '';\n    display: block;\n    width: 1.6rem;\n    height: 1.6rem;\n    background-color: ",";\n    opacity: ",";\n    border-radius: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    transition: var(--trans-default);\n  }\n"])),(function(n){return n.theme.text}),(function(n){return n.theme.text}),(function(n){return n.checked?1:0})),lr=function(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.budgets})),t=Object(p.c)((function(n){return n.googleUser})),r=Object(v.useState)(""),c=Object(k.a)(r,2),a=c[0],o=c[1],i=Object(v.useState)({repeat:!1,every:"1",type:"hours"}),l=Object(k.a)(i,2),u=l[0],s=l[1],d=Object(v.useState)(new Date),b=Object(k.a)(d,2),j=b[0],f=b[1],h=Object(v.useState)(!1),m=Object(k.a)(h,2),O=m[0],g=m[1],x=Object(v.useRef)(null),y=Object(v.useRef)(-1);Object(v.useEffect)((function(){return y.current!==e.length&&(e[0]?o(e[0]._id):o("")),function(){y.current=e.length}}),[e]);var w=e.filter((function(n){return n._id===a}))[0],E=function(n){s(Object(Q.a)(Object(Q.a)({},u),{},{repeat:!0})),n.target===x.current&&s(Object(Q.a)(Object(Q.a)({},u),{},{repeat:!u.repeat}))};return Object(Ie.jsx)(Yt,{handleSubmit:function(e,r,c){var o={_id:Object(Wt.a)(),currency:c,budgetId:a,userId:t?t.googleId:null,title:e,amount:r,repeat:Object(Q.a)(Object(Q.a)({},u),{},{every:parseInt(u.every)}),date:O?j:new Date};s({repeat:!1,every:"1",type:"hours"}),g(!1),f(new Date),t?(n(sn()),Ye.a.post("".concat(K,"/transactions"),Object(Q.a)({},o)).then((function(e){n(Ee(e.data)),n(we()),n(dn())}))):(n(Ee(o)),n(we()))},disabled:!e.length,button:!1,currency:w&&w.amount.currency,childrenBefore:Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(Dt,{htmlFor:"selectBudget",children:"Select a budget"}),Object(Ie.jsx)(tr,{id:"selectBudget",onChange:function(n){o(n.target.value)},value:a,children:e.map((function(n){return Object(Ie.jsxs)("option",{value:n._id,children:[n.title,": ",n.amount.actual.toFixed(2)," ",n.amount.currency]},n._id)}))})]}),pageTitle:"Payments",children:Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(ar,{children:[Object(Ie.jsx)(ir,{checked:O,onClick:function(){return g(!O)},tabIndex:0,onKeyPress:function(n){return rn(n,(function(){return g(!O)}))}}),Object(Ie.jsx)(cr,{checked:O,onClick:function(){return g(!O)},children:"Select date"}),Object(Ie.jsx)(Fe.a,{in:O,timeout:200,classNames:"fade",unmountOnExit:!0,children:Object(Ie.jsx)(er.a,{value:j,onChange:function(n){(new Date).getTime()-n.getTime()>0&&f(n)},className:"calendar"})})]}),Object(Ie.jsxs)(or,{animate:O,onClick:E,children:[Object(Ie.jsx)(ir,{checked:u.repeat,tabIndex:0,onKeyPress:function(n){return rn(n,E)},ref:x}),Object(Ie.jsxs)(cr,{checked:u.repeat,children:["Repeat every",Object(Ie.jsx)(Nt,{style:{width:"4rem",padding:".5rem"},onChange:function(n){(!isNaN(parseInt(n.target.value))&&parseInt(n.target.value)>0||""===n.target.value)&&s(Object(Q.a)(Object(Q.a)({},u),{},{every:n.target.value}))},maxLength:3,value:u.every,disabled:!u.repeat}),Object(Ie.jsxs)(tr,{style:{width:"8rem",padding:".5rem"},value:u.type,onChange:function(n){s(Object(Q.a)(Object(Q.a)({},u),{},{type:n.target.value}))},disabled:!u.repeat,children:[Object(Ie.jsx)("option",{value:"hours",children:"hours"}),Object(Ie.jsx)("option",{value:"days",children:"days"}),Object(Ie.jsx)("option",{value:"month",children:"month"}),Object(Ie.jsx)("option",{value:"year",children:"year"})]})]})]}),e[0]&&Object(Ie.jsx)(rr,{children:a&&Object(Ie.jsx)(pt,Object(Q.a)({},w))}),Object(Ie.jsx)(F,{color:"green",textColor:"white",style:{marginTop:"3rem",opacity:e[0]?1:.6},onClick:function(n){return!e[0]&&n.preventDefault()},children:e[0]?"Add":"Add a budget"})]})})},ur=function(){var n=Object(p.c)((function(n){return n.transactions})),e=Object(p.c)((function(n){return n.budgets})),t=Object(v.useState)(""),r=Object(k.a)(t,2),c=r[0],a=r[1],o=Object(v.useState)("date"),i=Object(k.a)(o,2),l=i[0],u=i[1];return Object(Ie.jsxs)(Kt,{children:[Object(Ie.jsxs)(Ht,{children:[Object(Ie.jsx)(Dt,{children:"Repeated transactions"}),Object(Ie.jsx)(Xt,{children:Object(Ie.jsx)(Re.a,{component:null,children:function(){var e=n.filter((function(n){return n.repeat.repeat}));return e.length?e.map((function(n){return Object(Ie.jsx)(Fe.a,{timeout:200,classNames:"slide",children:Object(Ie.jsx)("li",{children:Object(Ie.jsx)(lt,Object(Q.a)({},n))})},n._id)})):Object(Ie.jsx)(Fe.a,{timeout:200,classNames:"slide",children:Object(Ie.jsx)(Be,{children:"No transactions"})})}()})})]}),Object(Ie.jsx)(Jt,{}),Object(Ie.jsxs)(Ht,{children:[Object(Ie.jsx)(Dt,{htmlFor:"selectbg",children:"Filter transactions"}),Object(Ie.jsxs)(qt,{id:"selectbg",onChange:function(n){a(n.target.value)},value:c,children:[Object(Ie.jsx)("option",{value:"",children:"All"}),e.map((function(n){return Object(Ie.jsxs)("option",{value:n._id,children:[n.title,": ",n.amount.actual.toFixed(2)," ",n.amount.currency]},n._id)}))]}),Object(Ie.jsx)(Dt,{htmlFor:"sort",style:{marginTop:"3rem"},children:"Sort by"}),Object(Ie.jsxs)(qt,{id:"sort",onChange:function(n){u(n.target.value)},value:l,children:[Object(Ie.jsx)("option",{value:"date",children:"Newest"}),Object(Ie.jsx)("option",{value:"date_r",children:"Oldest"}),Object(Ie.jsx)("option",{value:"title",children:"A...Z"}),Object(Ie.jsx)("option",{value:"title_r",children:"Z...A"}),Object(Ie.jsx)("option",{value:"amount",children:"Most money"}),Object(Ie.jsx)("option",{value:"amount_r",children:"Least money"})]}),Object(Ie.jsx)(Xt,{children:Object(Ie.jsx)(Re.a,{component:null,children:function(){var e=c?n.filter((function(n){return n.budgetId===c&&!n.repeat.repeat})):n.filter((function(n){return!n.repeat.repeat}));return e.length?(e.sort((function(n,e){var t;switch(l.split("_")[0]){case"title":t=n.title.localeCompare(e.title);break;case"date":t=n.date>e.date?-1:n.date<e.date?1:0;break;case"amount":t=n.amount>e.amount?-1:n.amount<e.amount?1:0;break;default:t=0}return t})),"r"===l.split("_")[1]&&e.reverse(),e.map((function(n){return Object(Ie.jsx)(Fe.a,{timeout:200,classNames:"slide",children:Object(Ie.jsx)("li",{children:Object(Ie.jsx)(lt,Object(Q.a)({},n))})},n._id)}))):Object(Ie.jsx)(Fe.a,{timeout:200,classNames:"slide",children:Object(Ie.jsx)(Be,{children:"No transactions"})})}()})})]})]})},sr=function(){return Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(lr,{}),Object(Ie.jsx)(ur,{})]})},dr=function(){return Object(Ie.jsx)("h2",{children:"Coming soon"})},br=function(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.budgets})),t=Object(p.c)((function(n){return n.currency})),r=Object(p.c)((function(n){return n.currency.primaryCurrency})),c=Object(p.c)((function(n){var e;return null===(e=n.googleUser)||void 0===e?void 0:e.googleId})),a=0;e.forEach((function(n){return a+=n.amount.actual/t.currencies[n.amount.currency]})),a=a/t.currencies.USD*t.currencies[r];return Object(Ie.jsxs)(Ue,{$color:Ve(a),children:[a.toFixed(2)," ",Object(Ie.jsx)(Pt,{color:Ve(a),onChangeAction:function(e){c?(n(sn()),Ye.a.patch("".concat(K,"/users/").concat(c),{currency:e}).then((function(){n(_e(e)),n(dn())}))):n(_e(e))}})]})},jr=function(){var n=Object(ke.g)();return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(br,{}),Object(Ie.jsx)("div",{style:{position:"relative"},children:Object(Ie.jsx)(Re.a,{component:null,children:Object(Ie.jsx)(Fe.a,{timeout:200,classNames:"fade",children:Object(Ie.jsxs)(ke.c,{location:n,children:[Object(Ie.jsx)(ke.a,{exact:!0,path:"/overview",children:Object(Ie.jsx)(wt,{})}),Object(Ie.jsx)(ke.a,{exact:!0,path:"/budgets",children:Object(Ie.jsx)(nr,{})}),Object(Ie.jsx)(ke.a,{exact:!0,path:"/payments",children:Object(Ie.jsx)(sr,{})}),Object(Ie.jsx)(ke.a,{exact:!0,path:"/statistics",children:Object(Ie.jsx)(dr,{})})]})},n.pathname)})})]})},fr=function(){var n=Object(_.a)(T.a.mark((function n(e){var t,r,c,a,o,i,l,u,s,d,b;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=new Date,r=new Date(e.dateFetched),864e5,!(Math.floor((t.getTime()-r.getTime())/864e5)>=7)){n.next=16;break}return n.next=7,Ye.a.get("https://v1.nocodeapi.com/kriziuu/cx/FPLWrEBmjQDFHLdf/rates");case 7:return n.next=9,n.sent.data;case 9:for(c=n.sent,a={},o=0,i=Object.entries(c.rates);o<i.length;o++)l=Object(k.a)(i[o],2),u=l[0],s=l[1],d=Object(St.a)({},u,s),a=Object(Q.a)(Object(Q.a)({},a),d);return b={dateFetched:t,source:c.source,currencies:a,primaryCurrency:e.primaryCurrency},n.abrupt("return",b);case 16:return n.abrupt("return",e);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),hr=function(){var n=Object(_.a)(T.a.mark((function n(e,t,r){var c,a,o;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(),n.next=3,Ye.a.get("".concat(K,"/budgets"),{params:{userId:null===e||void 0===e?void 0:e.googleId}});case 3:return n.next=5,n.sent.data;case 5:return c=n.sent,n.next=8,Ye.a.get("".concat(K,"/transactions"),{params:{userId:null===e||void 0===e?void 0:e.googleId}});case 8:return n.next=10,n.sent.data;case 10:return a=n.sent,o="",n.next=14,Ye.a.get("".concat(K,"/users/").concat(null===e||void 0===e?void 0:e.googleId)).then((function(n){o=n.data.currency})).catch((function(){Ye.a.post("".concat(K,"/users"),{_id:null===e||void 0===e?void 0:e.googleId,currency:"USD"})}));case 14:return c=c.map((function(n){return n.date=new Date(n.date),n})),a.map((function(n){return n.date=new Date(n.date),n})),r(),n.abrupt("return",{budgets:c,transactions:a,userCurrency:o});case 18:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),mr=t(68),Or=t.n(mr),gr={body:"#FFF",text:"#222",border:"#CBD5E0",background:"#FFF"},pr={body:"#131313",text:"#eAeAeA",border:"#303030",background:"#2a2a2a"},xr=w.c.div(ge||(ge=Object(x.a)(["\n  width: 100vw;\n  margin-left: auto;\n  margin-right: auto;\n\n  @media (min-width: ",") {\n    width: 75vw;\n  }\n"])),R),vr=function(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.googleUser})),t=Object(p.c)((function(n){return n.currency})),r=Object(v.useRef)(!0),c=Object(p.c)((function(n){return n.loader})),a="light"===Object(p.c)((function(n){return n.theme}))?gr:pr,o=Object(v.useCallback)((function(){return n(sn())}),[n]),i=Object(v.useCallback)((function(){return n(dn())}),[n]);return Object(v.useEffect)((function(){return r.current||(n(Object(J.action)(bn.REMOVE_TRANSACTION_ALL)),n(Object(J.action)(tn.REMOVE_BUDGET_ALL)),n(we())),e&&hr(e,o,i).then((function(e){e.budgets.forEach((function(e){n(xe(e))})),e.transactions.forEach((function(e){n(Ee(e))})),n(_e(e.userCurrency)),n(we())})),function(){r.current=!1}}),[e,n,o,i]),Object(v.useEffect)((function(){fr(t).then((function(e){n(function(n){return Object(J.action)(on.UPDATE_CURRENCY,{currency:n})}(e))}))}),[t,n]),Object(Ie.jsxs)(w.a,{theme:a,children:[Object(Ie.jsx)(E,{}),Object(Ie.jsx)(xr,{children:Object(Ie.jsxs)(y.a,{children:[Object(Ie.jsx)(De,{}),Object(Ie.jsx)("main",{style:{position:"relative"},children:Object(Ie.jsx)(jr,{})})]})}),c&&Object(Ie.jsx)(Je,{closeModal:function(){},container:!1,closable:!1,children:Object(Ie.jsx)(Or.a,{size:"8rem",color:"silver"})})]})};g.a.render(Object(Ie.jsx)(p.a,{store:pe,children:Object(Ie.jsx)(vr,{})}),document.getElementById("root"))},37:function(n,e,t){}},[[116,1,2]]]);
//# sourceMappingURL=main.de7afee3.chunk.js.map